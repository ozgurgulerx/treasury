{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#treasury-ai-for-oil-gas","title":"Treasury - AI for Oil &amp; Gas","text":"<p>Enterprise AI Solutions for Treasury Operations in the Downstream Oil &amp; Gas Sector.</p>"},{"location":"#overview","title":"Overview","text":"<p>Treasury operations in oil and gas refining face unique challenges: volatile commodity prices, complex multi-currency transactions, massive working capital requirements, and stringent regulatory compliance. AI offers transformative solutions across the entire treasury function.</p>"},{"location":"#top-ai-use-cases","title":"Top AI Use Cases","text":"Priority Use Case Impact 1 Cash Flow Forecasting 50%+ forecast improvement 2 Fraud Detection 90%+ detection rate 3 FX Risk Management 96% forecast accuracy 4 Trade Finance Automation 80% faster processing 5 Commodity Hedging Optimized hedge ratios 6 Working Capital 10-20% cash release 7 Treasury Analytics Real-time insights 8 Regulatory Compliance Automated documentation"},{"location":"#key-benefits","title":"Key Benefits","text":"<ul> <li>50%+ improvement in cash forecast accuracy</li> <li>95% reduction in manual reconciliation tasks</li> <li>Real-time risk monitoring and alerts</li> <li>Faster decisions through AI-powered insights</li> <li>Reduced fraud through ML-based anomaly detection</li> </ul>"},{"location":"#implementation-approach","title":"Implementation Approach","text":""},{"location":"#phase-1-quick-wins-0-6-months","title":"Phase 1: Quick Wins (0-6 months)","text":"<ul> <li>Automated bank reconciliation</li> <li>Payment fraud detection</li> <li>Basic cash flow forecasting</li> <li>Treasury reporting automation</li> </ul>"},{"location":"#phase-2-core-transformation-6-18-months","title":"Phase 2: Core Transformation (6-18 months)","text":"<ul> <li>Advanced ML-driven forecasting</li> <li>Trade finance automation</li> <li>FX hedge optimization</li> <li>Working capital analytics</li> </ul>"},{"location":"#phase-3-advanced-capabilities-18-36-months","title":"Phase 3: Advanced Capabilities (18-36 months)","text":"<ul> <li>Commodity price forecasting</li> <li>Treasury AI assistant</li> <li>Integrated risk optimization</li> <li>Predictive counterparty monitoring</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":"<p>Get started by following our Getting Started Guide or explore the AI Use Cases.</p>"},{"location":"about/","title":"About","text":""},{"location":"about/#about-treasury","title":"About Treasury","text":"<p>Treasury is an enterprise AI platform designed specifically for the oil and gas industry.</p>"},{"location":"about/#mission","title":"Mission","text":"<p>Empowering energy companies with intelligent solutions that drive operational excellence and sustainable growth.</p>"},{"location":"about/#contact","title":"Contact","text":"<p>For inquiries, please reach out to the Treasury team.</p>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#getting-started","title":"Getting Started","text":""},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10+</li> <li>pip package manager</li> </ul>"},{"location":"getting-started/#installation","title":"Installation","text":"<ol> <li>Clone the repository</li> <li>Create a virtual environment:    <pre><code>python -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n</code></pre></li> <li>Install dependencies:    <pre><code>pip install -r requirements.txt\n</code></pre></li> <li>Configure your environment variables in <code>.env</code></li> </ol>"},{"location":"getting-started/#running-the-documentation","title":"Running the Documentation","text":"<pre><code>mkdocs serve\n</code></pre> <p>Visit <code>http://localhost:8000</code> to view the documentation.</p>"},{"location":"getting-started/#building-for-production","title":"Building for Production","text":"<pre><code>mkdocs build\n</code></pre> <p>The static site will be generated in the <code>site/</code> directory.</p>"},{"location":"architecture/","title":"Overview","text":""},{"location":"architecture/#architecture-options","title":"Architecture Options","text":"<p>This section evaluates three Microsoft platform options for building Treasury AI solutions for the Oil &amp; Gas sector.</p>"},{"location":"architecture/#platform-overview","title":"Platform Overview","text":"Platform Type Primary Use Microsoft Foundry PaaS for AI/Agents Multi-agent AI applications Microsoft Fabric SaaS Analytics Platform Data lakehouse &amp; analytics Copilot Studio Low-code Agent Builder Conversational agents"},{"location":"architecture/#architecture-comparison-summary","title":"Architecture Comparison Summary","text":"Criteria Microsoft Foundry Microsoft Fabric Copilot Studio Complexity High Medium-High Low AI Capabilities Advanced (multi-agent) Built-in Copilot Pre-built agents Data Platform External (connects to) Native OneLake External (connects to) Customization Full SDK access Workload-specific Limited Target User Developers Data Engineers/Analysts Business Users Time to MVP Weeks Days-Weeks Hours-Days"},{"location":"architecture/#recommended-architecture-patterns","title":"Recommended Architecture Patterns","text":"<p>Based on the Treasury AI use cases, we recommend a hybrid approach:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        TREASURY AI PLATFORM                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502  COPILOT STUDIO \u2502   \u2502 MICROSOFT       \u2502   \u2502 MICROSOFT       \u2502           \u2502\n\u2502  \u2502                 \u2502   \u2502 FOUNDRY         \u2502   \u2502 FABRIC          \u2502           \u2502\n\u2502  \u2502  \u2022 Treasury     \u2502   \u2502                 \u2502   \u2502                 \u2502           \u2502\n\u2502  \u2502    Chatbot      \u2502   \u2502  \u2022 ML Models    \u2502   \u2502  \u2022 OneLake      \u2502           \u2502\n\u2502  \u2502  \u2022 Q&amp;A Bot      \u2502   \u2502  \u2022 Custom       \u2502   \u2502  \u2022 Data Factory \u2502           \u2502\n\u2502  \u2502  \u2022 Policy Bot   \u2502   \u2502    Agents       \u2502   \u2502  \u2022 Power BI     \u2502           \u2502\n\u2502  \u2502                 \u2502   \u2502  \u2022 Forecasting  \u2502   \u2502  \u2022 Real-Time    \u2502           \u2502\n\u2502  \u2502                 \u2502   \u2502    Agents       \u2502   \u2502    Intelligence \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502           \u2502                     \u2502                     \u2502                     \u2502\n\u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502\n\u2502                                 \u2502                                           \u2502\n\u2502                                 \u25bc                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                     MICROSOFT FABRIC - OneLake                        \u2502  \u2502\n\u2502  \u2502                     (Unified Data Foundation)                         \u2502  \u2502\n\u2502  \u2502                                                                       \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502 Bronze      \u2502  \u2502 Silver      \u2502  \u2502 Gold        \u2502  \u2502 Semantic    \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502 (Raw Data)  \u2502  \u2502 (Cleaned)   \u2502  \u2502 (Curated)   \u2502  \u2502 Models      \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#decision-matrix","title":"Decision Matrix","text":"<p>See individual architecture pages for detailed pros/cons:</p> <ul> <li>Microsoft Foundry Architecture</li> <li>Microsoft Fabric Architecture</li> <li>Copilot Studio Architecture</li> <li>Data Sources &amp; Simulation</li> <li>Recommended Architecture &amp; Verdict</li> </ul>"},{"location":"architecture/copilot-studio/","title":"Copilot Studio","text":""},{"location":"architecture/copilot-studio/#copilot-studio-architecture","title":"Copilot Studio Architecture","text":"<p>Microsoft Copilot Studio is a low-code, graphical tool for building conversational AI agents and agent flows. It enables rapid deployment of chatbots with minimal technical expertise.</p>"},{"location":"architecture/copilot-studio/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        COPILOT STUDIO                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                     AGENT BUILDER                                    \u2502    \u2502\n\u2502  \u2502                                                                      \u2502    \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502    \u2502\n\u2502  \u2502  \u2502   Topics     \u2502  \u2502  Knowledge   \u2502  \u2502    Tools     \u2502              \u2502    \u2502\n\u2502  \u2502  \u2502 (Dialogs)    \u2502  \u2502   Sources    \u2502  \u2502  (Actions)   \u2502              \u2502    \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502    \u2502\n\u2502  \u2502                                                                      \u2502    \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502    \u2502\n\u2502  \u2502  \u2502   Triggers   \u2502  \u2502   Entities   \u2502  \u2502  Variables   \u2502              \u2502    \u2502\n\u2502  \u2502  \u2502              \u2502  \u2502 (Slot Fill)  \u2502  \u2502              \u2502              \u2502    \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                     AGENT FLOWS                                      \u2502    \u2502\n\u2502  \u2502         (Automated workflows with natural language)                  \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                     CONNECTORS                                       \u2502    \u2502\n\u2502  \u2502   Power Automate  |  Custom APIs  |  MCP Servers  |  Dataverse      \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                     CHANNELS                                         \u2502    \u2502\n\u2502  \u2502   Teams  |  Web  |  Facebook  |  M365 Copilot  |  Custom            \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/copilot-studio/#key-capabilities-for-treasury","title":"Key Capabilities for Treasury","text":"Capability Treasury Application Topics Pre-defined treasury Q&amp;A dialogs Knowledge Sources Connect to SharePoint policies, documentation Generative AI Answer questions from uploaded documents Power Automate Trigger workflows (approvals, notifications) Teams Integration Treasury chatbot in Microsoft Teams Authentication Secure access with Azure AD"},{"location":"architecture/copilot-studio/#treasury-chatbot-architecture","title":"Treasury Chatbot Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    TREASURY CHATBOT (Copilot Studio)                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  USER CHANNELS                                                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                    \u2502\n\u2502  \u2502  Teams   \u2502  \u2502   Web    \u2502  \u2502  Mobile  \u2502  \u2502  M365    \u2502                    \u2502\n\u2502  \u2502  App     \u2502  \u2502  Widget  \u2502  \u2502   App    \u2502  \u2502  Copilot \u2502                    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2502       \u2502             \u2502             \u2502             \u2502                           \u2502\n\u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                           \u2502\n\u2502                            \u2502                                                 \u2502\n\u2502                            \u25bc                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                    TREASURY ASSISTANT AGENT                           \u2502   \u2502\n\u2502  \u2502                                                                       \u2502   \u2502\n\u2502  \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502   \u2502\n\u2502  \u2502   \u2502                     TOPICS                                   \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502                                                              \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Cash Position    \u2022 FX Rates        \u2022 Policy Questions    \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Payment Status   \u2022 Approval Status \u2022 Bank Info           \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Forecast Query   \u2022 Limit Check     \u2022 Contact Info        \u2502    \u2502   \u2502\n\u2502  \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502   \u2502\n\u2502  \u2502                                                                       \u2502   \u2502\n\u2502  \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502   \u2502\n\u2502  \u2502   \u2502                  KNOWLEDGE SOURCES                           \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502                                                              \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Treasury Policy Documents (SharePoint)                   \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 FAQ Database                                             \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Procedure Manuals                                        \u2502    \u2502   \u2502\n\u2502  \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502   \u2502\n\u2502  \u2502                                                                       \u2502   \u2502\n\u2502  \u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502   \u2502\n\u2502  \u2502   \u2502                      ACTIONS                                 \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502                                                              \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Get Cash Balance  (\u2192 Power Automate \u2192 SAP)              \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Get FX Rate       (\u2192 Power Automate \u2192 Bloomberg)        \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Check Limit       (\u2192 Power Automate \u2192 TMS)              \u2502    \u2502   \u2502\n\u2502  \u2502   \u2502  \u2022 Submit Request    (\u2192 Power Automate \u2192 Approval Flow)    \u2502    \u2502   \u2502\n\u2502  \u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/copilot-studio/#pros-and-cons","title":"Pros and Cons","text":"Pros Cons Fastest time to deploy - hours not weeks Limited AI sophistication No-code/low-code - business users can build Less flexible than custom agents Built-in Teams integration Simpler conversations only Knowledge grounding from documents Limited multi-agent orchestration Power Automate for backend actions Dependent on connectors Easy maintenance and updates Cannot do complex ML Cost-effective for simple use cases M365 licensing requirements Built-in analytics"},{"location":"architecture/copilot-studio/#best-suited-for","title":"Best Suited For","text":"Use Case Fit Treasury Policy Q&amp;A Excellent - document grounding Payment Status Inquiry Good - simple queries Cash Balance Lookup Good - with Power Automate Employee Self-Service Excellent - FAQ deflection Complex Forecasting Poor - needs custom ML Multi-step Analysis Limited - basic flows only"},{"location":"architecture/copilot-studio/#sample-topic-flow","title":"Sample Topic Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    TOPIC: Cash Balance Inquiry                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                   \u2502\n\u2502  \u2502 TRIGGER              \u2502                                                   \u2502\n\u2502  \u2502 \"What's our cash     \u2502                                                   \u2502\n\u2502  \u2502  balance?\"           \u2502                                                   \u2502\n\u2502  \u2502 \"Show cash position\" \u2502                                                   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                   \u2502\n\u2502             \u2502                                                                \u2502\n\u2502             \u25bc                                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                   \u2502\n\u2502  \u2502 ASK QUESTION         \u2502                                                   \u2502\n\u2502  \u2502 \"Which entity do you \u2502                                                   \u2502\n\u2502  \u2502  want to check?\"     \u2502                                                   \u2502\n\u2502  \u2502 [Entity dropdown]    \u2502                                                   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                   \u2502\n\u2502             \u2502                                                                \u2502\n\u2502             \u25bc                                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                   \u2502\n\u2502  \u2502 ASK QUESTION         \u2502                                                   \u2502\n\u2502  \u2502 \"Which currency?\"    \u2502                                                   \u2502\n\u2502  \u2502 [USD/EUR/TRY]        \u2502                                                   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                   \u2502\n\u2502             \u2502                                                                \u2502\n\u2502             \u25bc                                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                     \u2502\n\u2502  \u2502 CALL ACTION          \u2502\u2500\u2500\u2500\u2500\u25b6\u2502 Power Automate Flow  \u2502                     \u2502\n\u2502  \u2502 \"Get Cash Balance\"   \u2502     \u2502 \u2192 SAP API Call       \u2502                     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502\n\u2502             \u2502                                                                \u2502\n\u2502             \u25bc                                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                   \u2502\n\u2502  \u2502 SHOW MESSAGE         \u2502                                                   \u2502\n\u2502  \u2502 \"The cash balance    \u2502                                                   \u2502\n\u2502  \u2502  for {Entity} in     \u2502                                                   \u2502\n\u2502  \u2502  {Currency} is       \u2502                                                   \u2502\n\u2502  \u2502  {Balance}\"          \u2502                                                   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                   \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/copilot-studio/#comparison-copilot-studio-vs-m365-copilot-agent-builder","title":"Comparison: Copilot Studio vs M365 Copilot Agent Builder","text":"Feature Copilot Studio M365 Agent Builder Target User Makers/Developers Information Workers Complexity Medium Low Audience Dept/Org/External Individual/Small Team Capabilities Full workflows Q&amp;A focused Governance Full lifecycle Limited"},{"location":"architecture/copilot-studio/#prototype-space","title":"Prototype Space","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PROTOTYPE: Treasury Policy Bot                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  Status: [ ] Not Started  [ ] In Progress  [ ] Complete                     \u2502\n\u2502                                                                              \u2502\n\u2502  Components:                                                                 \u2502\n\u2502  [ ] Create Copilot Studio agent                                            \u2502\n\u2502  [ ] Upload treasury policy documents                                       \u2502\n\u2502  [ ] Configure knowledge sources                                            \u2502\n\u2502  [ ] Create 5 core topics (Cash, FX, Limits, Payments, Contacts)           \u2502\n\u2502  [ ] Build Power Automate connectors                                        \u2502\n\u2502  [ ] Deploy to Teams                                                        \u2502\n\u2502  [ ] Test with treasury team                                                \u2502\n\u2502                                                                              \u2502\n\u2502  Notes:                                                                      \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/data-sources/","title":"Data Sources","text":""},{"location":"architecture/data-sources/#data-sources-simulation-strategy","title":"Data Sources &amp; Simulation Strategy","text":"<p>This document outlines the data sources required for Treasury AI solutions, their formats, storage recommendations, and strategies for simulating test datasets.</p>"},{"location":"architecture/data-sources/#data-sources-overview","title":"Data Sources Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        TREASURY DATA ECOSYSTEM                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  INTERNAL SYSTEMS                     EXTERNAL SOURCES                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502  \u2502 SAP ERP              \u2502            \u2502 Market Data          \u2502               \u2502\n\u2502  \u2502 \u2022 GL Entries         \u2502            \u2502 \u2022 FX Rates           \u2502               \u2502\n\u2502  \u2502 \u2022 AP/AR              \u2502            \u2502 \u2022 Commodity Prices   \u2502               \u2502\n\u2502  \u2502 \u2022 Bank Master        \u2502            \u2502 \u2022 Interest Rates     \u2502               \u2502\n\u2502  \u2502 \u2022 Payment Files      \u2502            \u2502                      \u2502               \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502  \u2502 Treasury Mgmt System \u2502            \u2502 Bloomberg/Reuters    \u2502               \u2502\n\u2502  \u2502 \u2022 Cash Positions     \u2502            \u2502 \u2022 Real-time Quotes   \u2502               \u2502\n\u2502  \u2502 \u2022 FX Trades          \u2502            \u2502 \u2022 News/Sentiment     \u2502               \u2502\n\u2502  \u2502 \u2022 Hedging Positions  \u2502            \u2502 \u2022 Analytics          \u2502               \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510               \u2502\n\u2502  \u2502 Banking Systems      \u2502            \u2502 Regulatory           \u2502               \u2502\n\u2502  \u2502 \u2022 Bank Statements    \u2502            \u2502 \u2022 Sanctions Lists    \u2502               \u2502\n\u2502  \u2502 \u2022 SWIFT Messages     \u2502            \u2502 \u2022 Compliance Data    \u2502               \u2502\n\u2502  \u2502 \u2022 Payment Status     \u2502            \u2502 \u2022 CPI/Inflation      \u2502               \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/data-sources/#detailed-data-source-catalog","title":"Detailed Data Source Catalog","text":""},{"location":"architecture/data-sources/#1-cash-flow-data","title":"1. Cash Flow Data","text":"Data Source Format Frequency Volume Storage Bank Statements MT940/CAMT.053 Daily ~100 files/day OneLake Bronze SAP GL Entries IDoc/CSV Real-time/Batch ~10K records/day OneLake Bronze Payment Files PAIN.001/CSV Real-time ~5K records/day OneLake Bronze Cash Forecasts Excel/CSV Weekly ~50 rows OneLake Gold <p>Simulation Strategy: </p><pre><code># Cash Flow Data Generator\nimport pandas as pd\nimport numpy as np\nfrom datetime import datetime, timedelta\n\ndef generate_cash_flows(days=365, accounts=10):\n    \"\"\"Generate realistic cash flow data for simulation\"\"\"\n    data = []\n    base_date = datetime.now() - timedelta(days=days)\n\n    for day in range(days):\n        current_date = base_date + timedelta(days=day)\n        for account in range(accounts):\n            # Inflows (receivables - larger, less frequent)\n            if np.random.random() &gt; 0.7:\n                data.append({\n                    'date': current_date,\n                    'account_id': f'ACC_{account:03d}',\n                    'type': 'INFLOW',\n                    'amount': np.random.uniform(100000, 5000000),\n                    'currency': np.random.choice(['USD', 'EUR', 'TRY'], p=[0.6, 0.3, 0.1]),\n                    'category': np.random.choice(['RECEIVABLE', 'INTEREST', 'REFUND']),\n                    'counterparty': f'CUST_{np.random.randint(1, 100):03d}'\n                })\n\n            # Outflows (payables - smaller, more frequent)\n            for _ in range(np.random.randint(1, 5)):\n                data.append({\n                    'date': current_date,\n                    'account_id': f'ACC_{account:03d}',\n                    'type': 'OUTFLOW',\n                    'amount': -np.random.uniform(10000, 500000),\n                    'currency': np.random.choice(['USD', 'EUR', 'TRY'], p=[0.5, 0.3, 0.2]),\n                    'category': np.random.choice(['SUPPLIER', 'SALARY', 'TAX', 'UTILITY']),\n                    'counterparty': f'SUPP_{np.random.randint(1, 200):03d}'\n                })\n\n    return pd.DataFrame(data)\n</code></pre><p></p>"},{"location":"architecture/data-sources/#2-fx-exposure-data","title":"2. FX Exposure Data","text":"Data Source Format Frequency Volume Storage FX Rates JSON/CSV Real-time ~1K records/hour Real-Time Intelligence FX Positions SAP/TMS Export Daily ~500 records OneLake Silver FX Forwards SWIFT MT300 On-trade ~50 records/day OneLake Bronze FX Forecasts Excel Monthly ~100 rows OneLake Gold <p>Simulation Strategy: </p><pre><code>def generate_fx_rates(currencies=['USD/TRY', 'EUR/TRY', 'EUR/USD'], hours=720):\n    \"\"\"Generate realistic FX rate time series with volatility\"\"\"\n    data = []\n    base_rates = {'USD/TRY': 34.0, 'EUR/TRY': 37.0, 'EUR/USD': 1.08}\n\n    for currency in currencies:\n        rate = base_rates[currency]\n        for hour in range(hours):\n            timestamp = datetime.now() - timedelta(hours=hours-hour)\n            # Random walk with drift and volatility\n            rate *= (1 + np.random.normal(0.0001, 0.005))\n            data.append({\n                'timestamp': timestamp,\n                'currency_pair': currency,\n                'bid': rate * 0.999,\n                'ask': rate * 1.001,\n                'mid': rate\n            })\n\n    return pd.DataFrame(data)\n</code></pre><p></p>"},{"location":"architecture/data-sources/#3-payment-transaction-data","title":"3. Payment Transaction Data","text":"Data Source Format Frequency Volume Storage Payments PAIN.001/XML Real-time ~2K records/day OneLake Bronze Payment Status PAIN.002/XML Real-time ~2K records/day OneLake Bronze Vendor Master SAP IDoc Daily ~5K records OneLake Silver Sanctions List CSV Weekly ~50K records OneLake Silver <p>Simulation Strategy: </p><pre><code>def generate_payments(days=90, daily_count=100):\n    \"\"\"Generate payment transactions with anomaly flags\"\"\"\n    data = []\n\n    for day in range(days):\n        current_date = datetime.now() - timedelta(days=days-day)\n\n        for i in range(daily_count):\n            is_anomaly = np.random.random() &gt; 0.98  # 2% anomaly rate\n\n            payment = {\n                'payment_id': f'PAY_{day:03d}_{i:04d}',\n                'date': current_date,\n                'amount': np.random.uniform(1000, 100000),\n                'currency': np.random.choice(['USD', 'EUR', 'TRY']),\n                'beneficiary_name': f'VENDOR_{np.random.randint(1, 500):03d}',\n                'beneficiary_account': f'IBAN_{np.random.randint(10000000, 99999999)}',\n                'beneficiary_country': np.random.choice(['TR', 'US', 'DE', 'GB']),\n                'payment_type': np.random.choice(['SUPPLIER', 'SALARY', 'TAX']),\n                'is_anomaly': is_anomaly\n            }\n\n            # Inject anomaly characteristics\n            if is_anomaly:\n                payment['amount'] *= np.random.uniform(2, 10)  # Unusual amount\n                if np.random.random() &gt; 0.5:\n                    payment['beneficiary_country'] = 'XX'  # Unknown country\n\n            data.append(payment)\n\n    return pd.DataFrame(data)\n</code></pre><p></p>"},{"location":"architecture/data-sources/#4-commodity-price-data","title":"4. Commodity Price Data","text":"Data Source Format Frequency Volume Storage Crude Prices (Brent, WTI) JSON/CSV Real-time ~1K records/hour Real-Time Intelligence Product Prices CSV Daily ~50 records OneLake Silver Crack Spreads Calculated Daily ~10 records OneLake Gold Forward Curves Bloomberg Daily ~100 records OneLake Silver <p>Simulation Strategy: </p><pre><code>def generate_commodity_prices(days=365):\n    \"\"\"Generate crude and product price time series\"\"\"\n    data = []\n    brent_price = 80.0\n    wti_price = 75.0\n\n    for day in range(days):\n        current_date = datetime.now() - timedelta(days=days-day)\n\n        # Correlated random walks\n        shock = np.random.normal(0, 0.02)\n        brent_price *= (1 + shock + np.random.normal(0, 0.005))\n        wti_price *= (1 + shock * 0.9 + np.random.normal(0, 0.005))\n\n        data.append({\n            'date': current_date,\n            'brent_close': brent_price,\n            'wti_close': wti_price,\n            'brent_wti_spread': brent_price - wti_price,\n            'gasoline_crack': np.random.uniform(15, 35),\n            'diesel_crack': np.random.uniform(20, 40)\n        })\n\n    return pd.DataFrame(data)\n</code></pre><p></p>"},{"location":"architecture/data-sources/#5-trade-finance-documents","title":"5. Trade Finance Documents","text":"Data Source Format Frequency Volume Storage Letters of Credit PDF/SWIFT MT700 On-demand ~20/week OneLake Bronze + Blob Bills of Lading PDF On-shipment ~50/week Blob Storage Commercial Invoices PDF/XML On-trade ~100/week OneLake Bronze Vessel Tracking AIS JSON Real-time Continuous Real-Time Intelligence"},{"location":"architecture/data-sources/#storage-architecture","title":"Storage Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        STORAGE ARCHITECTURE                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                     MICROSOFT FABRIC - OneLake                        \u2502   \u2502\n\u2502  \u2502                                                                       \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502   \u2502\n\u2502  \u2502  \u2502 BRONZE LAYER (Raw)                                              \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Format: Delta Lake (Parquet)                                    \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Retention: 7 years                                              \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Contents:                                                       \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 raw_bank_statements     \u2022 raw_fx_rates                     \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 raw_sap_gl_entries      \u2022 raw_payments                     \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 raw_swift_messages      \u2022 raw_commodity_prices             \u2502  \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502   \u2502\n\u2502  \u2502                                                                       \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502   \u2502\n\u2502  \u2502  \u2502 SILVER LAYER (Cleaned &amp; Conformed)                              \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Format: Delta Lake (Parquet)                                    \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Retention: 5 years                                              \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Contents:                                                       \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 cash_transactions       \u2022 fx_positions                     \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 payment_history         \u2022 counterparty_master              \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 commodity_prices        \u2022 trade_finance_docs               \u2502  \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502   \u2502\n\u2502  \u2502                                                                       \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502   \u2502\n\u2502  \u2502  \u2502 GOLD LAYER (Business-Ready)                                     \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Format: Delta Lake (Parquet)                                    \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Retention: 3 years                                              \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502 Contents:                                                       \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 daily_cash_position     \u2022 cash_forecast                    \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 fx_exposure_summary     \u2022 risk_metrics                     \u2502  \u2502   \u2502\n\u2502  \u2502  \u2502   \u2022 payment_analytics       \u2022 kpis                             \u2502  \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502 REAL-TIME INTELLIGENCE (KQL Database)                              \u2502     \u2502\n\u2502  \u2502 \u2022 fx_rates_stream         \u2022 payment_events_stream                 \u2502     \u2502\n\u2502  \u2502 \u2022 commodity_prices_stream \u2022 alerts_stream                         \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502 AZURE BLOB STORAGE (Documents)                                     \u2502     \u2502\n\u2502  \u2502 \u2022 LC Documents (PDF)      \u2022 Bills of Lading (PDF)                 \u2502     \u2502\n\u2502  \u2502 \u2022 Policy Documents        \u2022 Reports Archive                       \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502 AZURE AI SEARCH (Vector Index)                                     \u2502     \u2502\n\u2502  \u2502 \u2022 Policy document embeddings                                      \u2502     \u2502\n\u2502  \u2502 \u2022 Historical query embeddings                                     \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/data-sources/#data-simulation-master-script","title":"Data Simulation Master Script","text":"<pre><code>\"\"\"\nTreasury Data Simulation Master Script\nGenerates all required datasets for development and testing\n\"\"\"\n\nimport os\nimport pandas as pd\nfrom datetime import datetime\n\n# Configuration\nOUTPUT_DIR = \"./simulated_data\"\nos.makedirs(OUTPUT_DIR, exist_ok=True)\n\n# Generate all datasets\nprint(\"Generating Treasury simulation data...\")\n\n# 1. Cash Flows\ncash_flows = generate_cash_flows(days=365, accounts=10)\ncash_flows.to_parquet(f\"{OUTPUT_DIR}/cash_flows.parquet\")\nprint(f\"  - Cash flows: {len(cash_flows)} records\")\n\n# 2. FX Rates\nfx_rates = generate_fx_rates(hours=720)\nfx_rates.to_parquet(f\"{OUTPUT_DIR}/fx_rates.parquet\")\nprint(f\"  - FX rates: {len(fx_rates)} records\")\n\n# 3. Payments\npayments = generate_payments(days=90, daily_count=100)\npayments.to_parquet(f\"{OUTPUT_DIR}/payments.parquet\")\nprint(f\"  - Payments: {len(payments)} records\")\n\n# 4. Commodity Prices\ncommodities = generate_commodity_prices(days=365)\ncommodities.to_parquet(f\"{OUTPUT_DIR}/commodity_prices.parquet\")\nprint(f\"  - Commodity prices: {len(commodities)} records\")\n\n# 5. Generate summary statistics\nprint(\"\\nData Summary:\")\nprint(f\"  Total cash flow volume: ${cash_flows['amount'].sum():,.0f}\")\nprint(f\"  Anomaly rate in payments: {payments['is_anomaly'].mean()*100:.1f}%\")\nprint(f\"  FX rate range USD/TRY: {fx_rates[fx_rates['currency_pair']=='USD/TRY']['mid'].min():.2f} - {fx_rates[fx_rates['currency_pair']=='USD/TRY']['mid'].max():.2f}\")\n\nprint(\"\\nSimulation complete!\")\n</code></pre>"},{"location":"architecture/data-sources/#data-quality-checklist","title":"Data Quality Checklist","text":"Check Bronze Silver Gold Schema validation Required Required Required Null handling Log only Replace/Filter No nulls Duplicates Log only Remove No duplicates Date validation Check format Validate range Validated Amount validation Check numeric Check sign/range Validated Referential integrity Not checked Soft check Enforced"},{"location":"architecture/data-sources/#prototype-space","title":"Prototype Space","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PROTOTYPE: Data Simulation                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  Status: [ ] Not Started  [ ] In Progress  [ ] Complete                     \u2502\n\u2502                                                                              \u2502\n\u2502  Components:                                                                 \u2502\n\u2502  [ ] Create Python simulation package                                       \u2502\n\u2502  [ ] Generate 1 year of cash flow data                                      \u2502\n\u2502  [ ] Generate FX rate time series                                           \u2502\n\u2502  [ ] Generate payment data with anomalies                                   \u2502\n\u2502  [ ] Generate commodity price data                                          \u2502\n\u2502  [ ] Load to Fabric OneLake (Bronze layer)                                  \u2502\n\u2502  [ ] Create Silver layer transformations                                    \u2502\n\u2502  [ ] Create Gold layer aggregations                                         \u2502\n\u2502                                                                              \u2502\n\u2502  Notes:                                                                      \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/microsoft-fabric/","title":"Microsoft Fabric","text":""},{"location":"architecture/microsoft-fabric/#microsoft-fabric-architecture","title":"Microsoft Fabric Architecture","text":"<p>Microsoft Fabric is a unified SaaS analytics platform that provides end-to-end data workflows including ingestion, transformation, real-time processing, analytics, and reporting - all built on OneLake.</p>"},{"location":"architecture/microsoft-fabric/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          MICROSOFT FABRIC                                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                        WORKLOADS                                     \u2502    \u2502\n\u2502  \u2502                                                                      \u2502    \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502    \u2502\n\u2502  \u2502  \u2502  Data    \u2502 \u2502  Data    \u2502 \u2502  Data    \u2502 \u2502  Data    \u2502 \u2502 Real-Time\u2502  \u2502    \u2502\n\u2502  \u2502  \u2502 Factory  \u2502 \u2502 Engineer \u2502 \u2502 Science  \u2502 \u2502Warehouse \u2502 \u2502  Intel   \u2502  \u2502    \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502    \u2502\n\u2502  \u2502                                                                      \u2502    \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                            \u2502    \u2502\n\u2502  \u2502  \u2502 Power BI \u2502 \u2502 Databases\u2502 \u2502    IQ    \u2502                            \u2502    \u2502\n\u2502  \u2502  \u2502          \u2502 \u2502 (SQL DB) \u2502 \u2502 (Preview)\u2502                            \u2502    \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                            \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                       PLATFORM LAYER                                 \u2502    \u2502\n\u2502  \u2502                                                                      \u2502    \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502    \u2502\n\u2502  \u2502  \u2502    OneLake     \u2502  \u2502    Copilot     \u2502  \u2502  Governance    \u2502        \u2502    \u2502\n\u2502  \u2502  \u2502 (Data Lake)    \u2502  \u2502  (AI Assist)   \u2502  \u2502  (Purview)     \u2502        \u2502    \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/microsoft-fabric/#key-capabilities-for-treasury","title":"Key Capabilities for Treasury","text":"Capability Treasury Application Data Factory Ingest data from SAP, banks, Bloomberg, trading systems Data Engineering Apache Spark for cash flow processing, transformations Data Science ML models for forecasting, anomaly detection Data Warehouse SQL-based analytics on treasury data Real-Time Intelligence Payment monitoring, market data streaming Power BI Treasury dashboards and reporting OneLake Unified storage for all treasury data Copilot Natural language queries on treasury data"},{"location":"architecture/microsoft-fabric/#treasury-data-architecture-with-fabric","title":"Treasury Data Architecture with Fabric","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    TREASURY DATA PLATFORM (Microsoft Fabric)                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  DATA SOURCES                                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502   SAP    \u2502 \u2502  Banks   \u2502 \u2502Bloomberg \u2502 \u2502  SWIFT   \u2502 \u2502  Market  \u2502          \u2502\n\u2502  \u2502   ERP    \u2502 \u2502   APIs   \u2502 \u2502   Feed   \u2502 \u2502 Messages \u2502 \u2502   Data   \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502       \u2502            \u2502            \u2502            \u2502            \u2502                  \u2502\n\u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                  \u2502\n\u2502                                 \u2502                                            \u2502\n\u2502                                 \u25bc                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                       DATA FACTORY                                    \u2502   \u2502\n\u2502  \u2502              (Pipelines, Dataflows, Connectors)                       \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                 \u2502                                            \u2502\n\u2502                                 \u25bc                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                         ONELAKE                                       \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u2502   \u2502\n\u2502  \u2502  \u2502    BRONZE      \u2502  \u2502    SILVER      \u2502  \u2502     GOLD       \u2502         \u2502   \u2502\n\u2502  \u2502  \u2502   (Raw Data)   \u2502  \u2502   (Cleaned)    \u2502  \u2502   (Curated)    \u2502         \u2502   \u2502\n\u2502  \u2502  \u2502                \u2502  \u2502                \u2502  \u2502                \u2502         \u2502   \u2502\n\u2502  \u2502  \u2502 \u2022 Bank Stmts   \u2502  \u2502 \u2022 Cash Flows   \u2502  \u2502 \u2022 Cash Fcst    \u2502         \u2502   \u2502\n\u2502  \u2502  \u2502 \u2022 SAP Extracts \u2502  \u2502 \u2022 FX Rates     \u2502  \u2502 \u2022 FX Exposure  \u2502         \u2502   \u2502\n\u2502  \u2502  \u2502 \u2022 Market Data  \u2502  \u2502 \u2022 Positions    \u2502  \u2502 \u2022 Risk Metrics \u2502         \u2502   \u2502\n\u2502  \u2502  \u2502 \u2022 SWIFT Msgs   \u2502  \u2502 \u2022 Payments     \u2502  \u2502 \u2022 KPIs         \u2502         \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                 \u2502                                            \u2502\n\u2502       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502       \u2502                         \u2502                         \u2502                 \u2502\n\u2502       \u25bc                         \u25bc                         \u25bc                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502 DATA SCIENCE \u2502        \u2502  WAREHOUSE   \u2502        \u2502  REAL-TIME   \u2502          \u2502\n\u2502  \u2502              \u2502        \u2502              \u2502        \u2502  INTELLIGENCE\u2502          \u2502\n\u2502  \u2502 \u2022 Forecast   \u2502        \u2502 \u2022 SQL        \u2502        \u2502              \u2502          \u2502\n\u2502  \u2502   Models     \u2502        \u2502   Analytics  \u2502        \u2502 \u2022 Payment    \u2502          \u2502\n\u2502  \u2502 \u2022 Anomaly    \u2502        \u2502 \u2022 Historical \u2502        \u2502   Streaming  \u2502          \u2502\n\u2502  \u2502   Detection  \u2502        \u2502   Analysis   \u2502        \u2502 \u2022 Alerts     \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502         \u2502                       \u2502                       \u2502                   \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                   \u2502\n\u2502                                 \u2502                                            \u2502\n\u2502                                 \u25bc                                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                         POWER BI                                      \u2502   \u2502\n\u2502  \u2502                  (Treasury Dashboards &amp; Reports)                      \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/microsoft-fabric/#pros-and-cons","title":"Pros and Cons","text":"Pros Cons Unified platform - all analytics in one place Less AI-agent flexibility than Foundry OneLake - single source of truth SaaS limitations - less customization Built-in Copilot - AI assistance ready Fabric-specific - vendor lock-in No infrastructure to manage Cost model - capacity-based pricing 200+ connectors for data integration Learning curve for all workloads Real-time streaming capabilities Copilot less powerful than custom agents Power BI integration native Governance built-in (Purview) Delta Lake format - open standard"},{"location":"architecture/microsoft-fabric/#best-suited-for","title":"Best Suited For","text":"Use Case Fit Cash Flow Forecasting Excellent - data pipeline + ML Treasury Dashboards Excellent - Power BI native Working Capital Analytics Excellent - warehouse + reports Real-time Payment Monitoring Good - Real-Time Intelligence Fraud Detection ML Good - Data Science workload Document Processing Limited - needs external AI"},{"location":"architecture/microsoft-fabric/#onelake-data-structure","title":"OneLake Data Structure","text":"<pre><code>OneLake/\n\u251c\u2500\u2500 Treasury_Workspace/\n\u2502   \u251c\u2500\u2500 Lakehouse_Bronze/\n\u2502   \u2502   \u251c\u2500\u2500 Tables/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 raw_bank_statements\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 raw_sap_gl_entries\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 raw_fx_rates\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 raw_payments\n\u2502   \u2502   \u2514\u2500\u2500 Files/\n\u2502   \u2502       \u251c\u2500\u2500 swift_messages/\n\u2502   \u2502       \u2514\u2500\u2500 bank_files/\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Lakehouse_Silver/\n\u2502   \u2502   \u2514\u2500\u2500 Tables/\n\u2502   \u2502       \u251c\u2500\u2500 cash_transactions\n\u2502   \u2502       \u251c\u2500\u2500 fx_exposures\n\u2502   \u2502       \u251c\u2500\u2500 payment_history\n\u2502   \u2502       \u2514\u2500\u2500 counterparty_master\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Lakehouse_Gold/\n\u2502   \u2502   \u2514\u2500\u2500 Tables/\n\u2502   \u2502       \u251c\u2500\u2500 daily_cash_position\n\u2502   \u2502       \u251c\u2500\u2500 cash_forecast\n\u2502   \u2502       \u251c\u2500\u2500 fx_exposure_summary\n\u2502   \u2502       \u2514\u2500\u2500 risk_metrics\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 Warehouse_Treasury/\n\u2502   \u2502   \u2514\u2500\u2500 (SQL tables for reporting)\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 SemanticModel_Treasury/\n\u2502       \u2514\u2500\u2500 (Power BI semantic model)\n</code></pre>"},{"location":"architecture/microsoft-fabric/#sample-pipeline-data-factory","title":"Sample Pipeline (Data Factory)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    CASH FLOW PIPELINE                                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502  \u2502  SAP     \u2502    \u2502  Bank    \u2502    \u2502 Transform\u2502    \u2502  Load    \u2502              \u2502\n\u2502  \u2502  Extract \u2502\u2500\u2500\u2500\u25b6\u2502  Files   \u2502\u2500\u2500\u2500\u25b6\u2502  (Spark) \u2502\u2500\u2500\u2500\u25b6\u2502  Gold    \u2502              \u2502\n\u2502  \u2502          \u2502    \u2502  Ingest  \u2502    \u2502          \u2502    \u2502          \u2502              \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                                                                              \u2502\n\u2502  Schedule: Daily 6:00 AM UTC                                                \u2502\n\u2502  Dependencies: SAP extraction complete, Bank files available                \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/microsoft-fabric/#prototype-space","title":"Prototype Space","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PROTOTYPE: Treasury Lakehouse                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  Status: [ ] Not Started  [ ] In Progress  [ ] Complete                     \u2502\n\u2502                                                                              \u2502\n\u2502  Components:                                                                 \u2502\n\u2502  [ ] Create Fabric workspace                                                \u2502\n\u2502  [ ] Create Bronze/Silver/Gold lakehouses                                   \u2502\n\u2502  [ ] Build sample data ingestion pipeline                                   \u2502\n\u2502  [ ] Create cash flow transformation notebook                               \u2502\n\u2502  [ ] Build Power BI dashboard                                               \u2502\n\u2502  [ ] Test Copilot queries                                                   \u2502\n\u2502                                                                              \u2502\n\u2502  Notes:                                                                      \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/microsoft-foundry/","title":"Microsoft Foundry","text":""},{"location":"architecture/microsoft-foundry/#microsoft-foundry-architecture","title":"Microsoft Foundry Architecture","text":"<p>Microsoft Foundry (formerly Azure AI Foundry) is a unified Azure PaaS offering for enterprise AI operations, model builders, and agentic application development.</p>"},{"location":"architecture/microsoft-foundry/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        MICROSOFT FOUNDRY                                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                     FOUNDRY PORTAL                                   \u2502    \u2502\n\u2502  \u2502   \u2022 Project Management    \u2022 Model Catalog    \u2022 Agent Builder        \u2502    \u2502\n\u2502  \u2502   \u2022 Tracing &amp; Monitoring  \u2022 Evaluations      \u2022 Tool Catalog         \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502   AGENTS     \u2502  \u2502   MODELS     \u2502  \u2502   TOOLS      \u2502  \u2502   MEMORY     \u2502    \u2502\n\u2502  \u2502              \u2502  \u2502              \u2502  \u2502              \u2502  \u2502              \u2502    \u2502\n\u2502  \u2502 \u2022 Custom     \u2502  \u2502 \u2022 GPT-4o     \u2502  \u2502 \u2022 1,400+     \u2502  \u2502 \u2022 Context    \u2502    \u2502\n\u2502  \u2502 \u2022 Multi-     \u2502  \u2502 \u2022 Claude     \u2502  \u2502   Pre-built  \u2502  \u2502   Retention  \u2502    \u2502\n\u2502  \u2502   Agent      \u2502  \u2502 \u2022 Llama      \u2502  \u2502 \u2022 Custom     \u2502  \u2502 \u2022 User       \u2502    \u2502\n\u2502  \u2502 \u2022 Workflows  \u2502  \u2502 \u2022 Mistral    \u2502  \u2502 \u2022 MCP        \u2502  \u2502   Preferences\u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502                     SDKs &amp; APIs                                      \u2502    \u2502\n\u2502  \u2502   Python  |  C#  |  JavaScript/TypeScript  |  Java                  \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502              ENTERPRISE FEATURES                                     \u2502    \u2502\n\u2502  \u2502   \u2022 RBAC           \u2022 Networking      \u2022 Azure Policy                 \u2502    \u2502\n\u2502  \u2502   \u2022 Monitoring     \u2022 AI Gateway      \u2022 Cost Management              \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/microsoft-foundry/#key-capabilities-for-treasury","title":"Key Capabilities for Treasury","text":"Capability Treasury Application Multi-Agent Orchestration Cash forecasting agent + FX agent + Fraud detection agent working together Model Selection Use GPT-4o for analysis, Claude for document processing Tool Integration Connect to SAP, Bloomberg, SWIFT, banking APIs Memory Remember user preferences, past queries, context Knowledge Integration Connect to Azure AI Search for policy documents MCP Protocol Connect to external data sources and tools"},{"location":"architecture/microsoft-foundry/#treasury-architecture-with-foundry","title":"Treasury Architecture with Foundry","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    TREASURY AI AGENTS (Microsoft Foundry)                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502                   TREASURY ORCHESTRATOR AGENT                       \u2502     \u2502\n\u2502  \u2502         (Routes queries to specialized agents)                      \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                  \u2502                                           \u2502\n\u2502      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502\n\u2502      \u2502                           \u2502                           \u2502              \u2502\n\u2502      \u25bc                           \u25bc                           \u25bc              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502 CASH FLOW    \u2502         \u2502 FX RISK      \u2502         \u2502 FRAUD        \u2502        \u2502\n\u2502  \u2502 AGENT        \u2502         \u2502 AGENT        \u2502         \u2502 DETECTION    \u2502        \u2502\n\u2502  \u2502              \u2502         \u2502              \u2502         \u2502 AGENT        \u2502        \u2502\n\u2502  \u2502 \u2022 Forecast   \u2502         \u2502 \u2022 Exposure   \u2502         \u2502              \u2502        \u2502\n\u2502  \u2502 \u2022 Liquidity  \u2502         \u2502   Calc       \u2502         \u2502 \u2022 Payment    \u2502        \u2502\n\u2502  \u2502 \u2022 Scenarios  \u2502         \u2502 \u2022 Hedge Rec  \u2502         \u2502   Screening  \u2502        \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2502         \u2502                        \u2502                        \u2502                 \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2502\n\u2502                                  \u2502                                           \u2502\n\u2502                                  \u25bc                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                          TOOLS LAYER                                  \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502   \u2502\n\u2502  \u2502  \u2502 SAP        \u2502  \u2502 Bloomberg  \u2502  \u2502 Banking    \u2502  \u2502 Document   \u2502     \u2502   \u2502\n\u2502  \u2502  \u2502 Connector  \u2502  \u2502 API        \u2502  \u2502 APIs       \u2502  \u2502 Parser     \u2502     \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                       KNOWLEDGE BASE                                  \u2502   \u2502\n\u2502  \u2502        (Azure AI Search - Policies, Historical Data, Rules)          \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/microsoft-foundry/#pros-and-cons","title":"Pros and Cons","text":"Pros Cons Full control over agent behavior and logic Higher complexity - requires developer skills Multi-agent orchestration for complex workflows Longer development time Model flexibility - choose from multiple LLMs More infrastructure to manage Enterprise-grade security and governance Higher initial cost for setup SDK support for Python, C#, JS, Java Steeper learning curve MCP protocol for extensibility Need to build integrations Memory and context management Production-ready with monitoring/tracing"},{"location":"architecture/microsoft-foundry/#best-suited-for","title":"Best Suited For","text":"Use Case Fit Cash Flow Forecasting Excellent - complex ML + multi-source data Commodity Hedging Excellent - needs sophisticated analysis Treasury Copilot Good - natural language queries Fraud Detection Good - custom anomaly detection Trade Finance Good - document processing + rules"},{"location":"architecture/microsoft-foundry/#sample-code-structure","title":"Sample Code Structure","text":"<pre><code># Treasury Cash Flow Agent\nfrom azure.ai.projects import AIProjectClient\nfrom azure.ai.projects.models import PromptAgentDefinition\n\nproject_client = AIProjectClient(\n    endpoint=os.environ[\"PROJECT_ENDPOINT\"],\n    credential=DefaultAzureCredential(),\n)\n\n# Create specialized cash flow agent\ncash_agent = project_client.agents.create_version(\n    agent_name=\"TreasuryCashFlowAgent\",\n    definition=PromptAgentDefinition(\n        model=\"gpt-4o\",\n        instructions=\"\"\"You are a Treasury Cash Flow Assistant.\n        Analyze cash positions, forecast liquidity needs, and\n        provide actionable recommendations for treasury operations\n        in the oil &amp; gas sector.\"\"\",\n        tools=[\n            {\"type\": \"function\", \"function\": sap_cash_tool},\n            {\"type\": \"function\", \"function\": bank_balance_tool},\n            {\"type\": \"function\", \"function\": forecast_tool},\n        ]\n    ),\n)\n</code></pre>"},{"location":"architecture/microsoft-foundry/#prototype-space","title":"Prototype Space","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PROTOTYPE: Cash Flow Agent                            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  Status: [ ] Not Started  [ ] In Progress  [ ] Complete                     \u2502\n\u2502                                                                              \u2502\n\u2502  Components:                                                                 \u2502\n\u2502  [ ] Create Foundry Project                                                 \u2502\n\u2502  [ ] Deploy GPT-4o model                                                    \u2502\n\u2502  [ ] Build Cash Flow Agent definition                                       \u2502\n\u2502  [ ] Create mock data tools                                                 \u2502\n\u2502  [ ] Test conversation flows                                                \u2502\n\u2502  [ ] Evaluate with test scenarios                                           \u2502\n\u2502                                                                              \u2502\n\u2502  Notes:                                                                      \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/verdict/","title":"Verdict & Recommendation","text":""},{"location":"architecture/verdict/#recommended-architecture-verdict","title":"Recommended Architecture &amp; Verdict","text":"<p>After analyzing Microsoft Foundry, Microsoft Fabric, and Copilot Studio against Treasury AI use cases for the Oil &amp; Gas sector, this document presents the recommended architecture and implementation strategy.</p>"},{"location":"architecture/verdict/#executive-summary","title":"Executive Summary","text":"<p>Verdict: Hybrid Architecture using all three platforms</p> <p>The optimal approach combines:</p> <ol> <li>Microsoft Fabric as the data foundation (OneLake + Analytics)</li> <li>Microsoft Foundry for sophisticated AI agents (Forecasting, Risk Analysis)</li> <li>Copilot Studio for user-facing chatbots (Policy Q&amp;A, Simple Queries)</li> </ol> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    RECOMMENDED TREASURY AI ARCHITECTURE                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502                         USER INTERFACES                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502   Teams      \u2502  \u2502   Power BI   \u2502  \u2502    Web       \u2502  \u2502   M365       \u2502    \u2502\n\u2502  \u2502   Chatbot    \u2502  \u2502  Dashboards  \u2502  \u2502    Portal    \u2502  \u2502   Copilot    \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502         \u2502                 \u2502                 \u2502                 \u2502             \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502                                    \u2502                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                        AI LAYER                                        \u2502  \u2502\n\u2502  \u2502                                                                        \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502  \u2502\n\u2502  \u2502  \u2502     COPILOT STUDIO      \u2502    \u2502   MICROSOFT FOUNDRY      \u2502          \u2502  \u2502\n\u2502  \u2502  \u2502                         \u2502    \u2502                          \u2502          \u2502  \u2502\n\u2502  \u2502  \u2502  \u2022 Policy Q&amp;A Bot       \u2502    \u2502  \u2022 Cash Forecast Agent   \u2502          \u2502  \u2502\n\u2502  \u2502  \u2502  \u2022 Balance Inquiry      \u2502    \u2502  \u2022 FX Risk Agent         \u2502          \u2502  \u2502\n\u2502  \u2502  \u2502  \u2022 Simple Requests      \u2502    \u2502  \u2022 Fraud Detection Agent \u2502          \u2502  \u2502\n\u2502  \u2502  \u2502                         \u2502    \u2502  \u2022 Commodity Agent       \u2502          \u2502  \u2502\n\u2502  \u2502  \u2502  [Low Complexity]       \u2502    \u2502  [High Complexity]       \u2502          \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502  \u2502\n\u2502  \u2502                                                                        \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                      \u2502                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                      DATA PLATFORM (FABRIC)                            \u2502  \u2502\n\u2502  \u2502                                                                        \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u2502  \u2502\n\u2502  \u2502  \u2502 Data     \u2502  \u2502 Data     \u2502  \u2502 Real-Time\u2502  \u2502 Data     \u2502              \u2502  \u2502\n\u2502  \u2502  \u2502 Factory  \u2502  \u2502 Science  \u2502  \u2502 Intel    \u2502  \u2502 Warehouse\u2502              \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502  \u2502\n\u2502  \u2502                                                                        \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502  \u2502\n\u2502  \u2502  \u2502                        OneLake                                  \u2502   \u2502  \u2502\n\u2502  \u2502  \u2502   Bronze (Raw)  \u2192  Silver (Clean)  \u2192  Gold (Curated)          \u2502   \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                      DATA SOURCES                                      \u2502  \u2502\n\u2502  \u2502   SAP  |  Banks  |  Bloomberg  |  SWIFT  |  Market Data              \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/verdict/#platform-assignment-by-use-case","title":"Platform Assignment by Use Case","text":"Use Case Primary Platform Secondary Rationale Cash Flow Forecasting Fabric (Data Science) Foundry (Agent) ML models in Fabric, conversational interface via Foundry agent Fraud Detection Fabric (Real-Time Intel) Foundry (Agent) Streaming anomaly detection + intelligent alerting agent FX Risk Management Foundry (Agent) Fabric (Data) Complex multi-source analysis needs agent orchestration Commodity Hedging Foundry (Agent) Fabric (Data) Sophisticated forecasting + recommendation engine Trade Finance Fabric (Data Factory) Foundry (Document AI) Document processing + workflow automation Working Capital Fabric (Warehouse) Power BI Analytical workload with dashboards Treasury Copilot Copilot Studio Foundry (fallback) Simple Q&amp;A with escalation to complex agents Compliance Fabric (Data Factory) Copilot Studio Automated processing + policy bot"},{"location":"architecture/verdict/#comparison-matrix","title":"Comparison Matrix","text":"Criteria Foundry Fabric Copilot Studio Recommendation Time to MVP 4-8 weeks 2-4 weeks 1-2 weeks Start with Copilot Studio AI Sophistication High Medium Low Foundry for complex AI Data Platform External Native External Fabric as data foundation Cost (Initial) High Medium Low Phase investment Cost (Ongoing) Pay-per-use Capacity Per-user Depends on scale Skills Required Developer Data Engineer Business User Mixed team Customization Full Moderate Limited Use right tool for job Governance Full control Built-in Limited Fabric for data governance"},{"location":"architecture/verdict/#implementation-roadmap","title":"Implementation Roadmap","text":""},{"location":"architecture/verdict/#phase-1-foundation-months-1-3","title":"Phase 1: Foundation (Months 1-3)","text":"<p>Objective: Establish data platform and quick wins</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           PHASE 1: FOUNDATION                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  WEEK 1-4: Data Platform Setup                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u2022 Create Fabric workspace                                           \u2502   \u2502\n\u2502  \u2502  \u2022 Set up OneLake Bronze/Silver/Gold structure                       \u2502   \u2502\n\u2502  \u2502  \u2022 Build initial data pipelines (SAP, Banks)                        \u2502   \u2502\n\u2502  \u2502  \u2022 Generate simulation data for development                         \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  WEEK 5-8: Treasury Policy Bot                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u2022 Create Copilot Studio agent                                      \u2502   \u2502\n\u2502  \u2502  \u2022 Upload policy documents to knowledge base                        \u2502   \u2502\n\u2502  \u2502  \u2022 Build core topics (Cash, FX, Limits)                            \u2502   \u2502\n\u2502  \u2502  \u2022 Deploy to Teams                                                  \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  WEEK 9-12: Basic Dashboards                                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u2022 Create Power BI semantic model                                   \u2502   \u2502\n\u2502  \u2502  \u2022 Build cash position dashboard                                    \u2502   \u2502\n\u2502  \u2502  \u2022 Build FX exposure dashboard                                      \u2502   \u2502\n\u2502  \u2502  \u2022 Enable Fabric Copilot for natural language queries               \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  DELIVERABLES:                                                              \u2502\n\u2502  \u2713 Working data platform with OneLake                                      \u2502\n\u2502  \u2713 Treasury Policy Bot in Teams                                            \u2502\n\u2502  \u2713 Basic dashboards with Copilot queries                                   \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/verdict/#phase-2-intelligence-months-4-9","title":"Phase 2: Intelligence (Months 4-9)","text":"<p>Objective: Add ML models and intelligent agents</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          PHASE 2: INTELLIGENCE                               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  MONTH 4-5: Cash Flow Forecasting                                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u2022 Train ML model in Fabric Data Science                            \u2502   \u2502\n\u2502  \u2502  \u2022 Create Cash Flow Agent in Microsoft Foundry                      \u2502   \u2502\n\u2502  \u2502  \u2022 Connect agent to Fabric data via tools                           \u2502   \u2502\n\u2502  \u2502  \u2022 Build forecast dashboard in Power BI                             \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  MONTH 6-7: Fraud Detection                                                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u2022 Set up Real-Time Intelligence for payment streaming              \u2502   \u2502\n\u2502  \u2502  \u2022 Build anomaly detection model                                    \u2502   \u2502\n\u2502  \u2502  \u2022 Create alerting agent in Foundry                                 \u2502   \u2502\n\u2502  \u2502  \u2022 Integrate with payment approval workflow                         \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  MONTH 8-9: FX Risk Agent                                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  \u2022 Build FX exposure calculation pipeline                           \u2502   \u2502\n\u2502  \u2502  \u2022 Create FX Risk Agent with hedge recommendations                  \u2502   \u2502\n\u2502  \u2502  \u2022 Connect to market data sources                                   \u2502   \u2502\n\u2502  \u2502  \u2022 Build FX risk dashboard                                          \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                              \u2502\n\u2502  DELIVERABLES:                                                              \u2502\n\u2502  \u2713 Cash flow forecasting with 50%+ accuracy improvement                    \u2502\n\u2502  \u2713 Real-time fraud detection                                               \u2502\n\u2502  \u2713 FX risk analysis agent                                                  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/verdict/#phase-3-advanced-months-10-18","title":"Phase 3: Advanced (Months 10-18)","text":"<p>Objective: Sophisticated multi-agent systems</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           PHASE 3: ADVANCED                                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  \u2022 Commodity price forecasting with hybrid ARIMA+LSTM                      \u2502\n\u2502  \u2022 Treasury Orchestrator Agent (routes to specialized agents)              \u2502\n\u2502  \u2022 Trade finance document automation                                        \u2502\n\u2502  \u2022 Working capital optimization engine                                      \u2502\n\u2502  \u2022 Multi-agent collaboration for complex scenarios                         \u2502\n\u2502                                                                              \u2502\n\u2502  DELIVERABLES:                                                              \u2502\n\u2502  \u2713 Full Treasury AI platform                                               \u2502\n\u2502  \u2713 Multi-agent orchestration                                               \u2502\n\u2502  \u2713 End-to-end automation                                                   \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/verdict/#cost-estimation","title":"Cost Estimation","text":"Component Phase 1 Phase 2 Phase 3 Notes Fabric Capacity (F64) $5K/mo $8K/mo $12K/mo Scale with usage Foundry (AI Models) - $2K/mo $5K/mo Pay per inference Copilot Studio $200/user/mo $200/user/mo $200/user/mo 5-10 users Azure AI Search $250/mo $500/mo $1K/mo Vector search Development High Medium Lower Front-loaded Total (Monthly) ~$8K ~$15K ~$22K Excluding dev"},{"location":"architecture/verdict/#risk-assessment","title":"Risk Assessment","text":"Risk Mitigation Data quality issues Start with simulation data, validate before production Integration complexity Use standard connectors, build adapters incrementally User adoption Start with Copilot Studio (easy), progress to complex Cost overruns Monitor Fabric capacity, use pay-per-use for agents Skill gaps Phased approach allows team to learn progressively"},{"location":"architecture/verdict/#final-verdict","title":"Final Verdict","text":""},{"location":"architecture/verdict/#best-single-platform-choice","title":"Best Single Platform Choice","text":"<p>If forced to choose one platform, select Microsoft Fabric because:</p> <ol> <li>It provides the data foundation that all AI depends on</li> <li>Has built-in Copilot for immediate AI value</li> <li>Includes Data Science for ML models</li> <li>Offers Real-Time Intelligence for streaming</li> <li>Power BI integration for visualization</li> </ol>"},{"location":"architecture/verdict/#optimal-hybrid-choice-recommended","title":"Optimal Hybrid Choice (Recommended)","text":"<p>Use all three platforms strategically:</p> Platform Role % of Solution Microsoft Fabric Data Platform + Analytics 50% Microsoft Foundry AI Agents + Complex Logic 35% Copilot Studio User Interface + Simple Q&amp;A 15%"},{"location":"architecture/verdict/#key-success-factors","title":"Key Success Factors","text":"<ol> <li>Start with data - Fabric OneLake as single source of truth</li> <li>Quick wins first - Copilot Studio for immediate value</li> <li>Add intelligence progressively - Foundry agents as complexity grows</li> <li>Measure and iterate - Use analytics to prove ROI</li> </ol>"},{"location":"architecture/verdict/#prototype-tracking","title":"Prototype Tracking","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                        PROTOTYPE STATUS TRACKER                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                              \u2502\n\u2502  PHASE 1 PROTOTYPES                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 [ ] Fabric Workspace + OneLake Structure                           \u2502    \u2502\n\u2502  \u2502 [ ] Simulation Data Generator                                      \u2502    \u2502\n\u2502  \u2502 [ ] Copilot Studio Policy Bot                                      \u2502    \u2502\n\u2502  \u2502 [ ] Power BI Cash Position Dashboard                               \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  PHASE 2 PROTOTYPES                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 [ ] Cash Flow ML Model (Fabric Data Science)                       \u2502    \u2502\n\u2502  \u2502 [ ] Cash Flow Agent (Microsoft Foundry)                            \u2502    \u2502\n\u2502  \u2502 [ ] Payment Anomaly Detection (Real-Time Intelligence)             \u2502    \u2502\n\u2502  \u2502 [ ] FX Risk Agent (Microsoft Foundry)                              \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  PHASE 3 PROTOTYPES                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502 [ ] Commodity Forecasting Model                                    \u2502    \u2502\n\u2502  \u2502 [ ] Treasury Orchestrator Agent                                    \u2502    \u2502\n\u2502  \u2502 [ ] Trade Finance Document Pipeline                                \u2502    \u2502\n\u2502  \u2502 [ ] Multi-Agent System                                             \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                                                                              \u2502\n\u2502  NOTES:                                                                     \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502  _________________________________________________________________________  \u2502\n\u2502                                                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Document Version: 1.0 Last Updated: January 2025 Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/","title":"Overview","text":""},{"location":"notebooks/#educational-notebooks","title":"Educational Notebooks","text":""},{"location":"notebooks/#overview","title":"Overview","text":"<p>This collection of Jupyter notebooks provides hands-on, educational demonstrations of AI/ML applications for Treasury operations in the Oil &amp; Gas sector. Each notebook is designed to be self-contained, with detailed explanations, thinking traces, and executive dashboards.</p> <p>Educational Purpose</p> <p>These notebooks use simulated data that mimics real-world patterns. They are designed for learning and demonstration purposes, showcasing how AI/ML techniques can be applied to Treasury challenges.</p>"},{"location":"notebooks/#notebook-collection","title":"Notebook Collection","text":"# Notebook Primary Technique Business Value 01 Cash Flow Forecasting Prophet, Time Series Liquidity planning, funding optimization 02 Fraud Detection Isolation Forest + Rules Payment security, loss prevention 03 FX Risk Management Monte Carlo Simulation Hedge optimization, exposure control 04 Commodity Hedging ARIMA Forecasting Margin protection, hedge timing 05 Trade Finance Document AI, NER Processing efficiency, compliance 06 Working Capital Random Forest Collection optimization, DSO reduction 07 Treasury Copilot RAG, LLM Self-service analytics, policy Q&amp;A 08 Compliance (TAS 29) ML Classification Hyperinflation accounting automation"},{"location":"notebooks/#architecture","title":"Architecture","text":"<pre><code>treasury/\n\u251c\u2500\u2500 notebooks/                    # Jupyter notebooks\n\u2502   \u251c\u2500\u2500 01_cash_flow_forecasting.ipynb\n\u2502   \u251c\u2500\u2500 02_fraud_detection.ipynb\n\u2502   \u251c\u2500\u2500 03_fx_risk_management.ipynb\n\u2502   \u251c\u2500\u2500 04_commodity_hedging.ipynb\n\u2502   \u251c\u2500\u2500 05_trade_finance.ipynb\n\u2502   \u251c\u2500\u2500 06_working_capital.ipynb\n\u2502   \u251c\u2500\u2500 07_treasury_copilot.ipynb\n\u2502   \u2514\u2500\u2500 08_compliance.ipynb\n\u2502\n\u2514\u2500\u2500 src/treasury_sim/            # Data simulation package\n    \u251c\u2500\u2500 __init__.py\n    \u2514\u2500\u2500 generators.py            # 9 data generators\n</code></pre>"},{"location":"notebooks/#design-principles","title":"Design Principles","text":""},{"location":"notebooks/#1-thinking-traces","title":"1. Thinking Traces","text":"<p>Each notebook includes \"Thinking Trace\" sections that explain:</p> <ul> <li>Why we chose a particular approach</li> <li>What business questions we're answering</li> <li>Trade-offs between different methods</li> <li>Limitations and considerations</li> </ul>"},{"location":"notebooks/#2-progressive-complexity","title":"2. Progressive Complexity","text":"<p>Notebooks start with simple concepts and gradually introduce complexity:</p> <pre><code>Basic EDA \u2192 Baseline Models \u2192 Advanced ML \u2192 Business Application\n</code></pre>"},{"location":"notebooks/#3-executive-dashboards","title":"3. Executive Dashboards","text":"<p>Every notebook concludes with a Plotly-based dashboard suitable for presenting to business stakeholders, combining multiple visualizations into a cohesive view.</p>"},{"location":"notebooks/#4-realistic-data-patterns","title":"4. Realistic Data Patterns","text":"<p>The simulated data includes real-world patterns:</p> <ul> <li>Seasonality: Month-end spikes, quarterly patterns</li> <li>Anomalies: Fraud indicators, unusual transactions</li> <li>Correlations: Oil-USD relationships, crack spreads</li> <li>Business Rules: Payment terms, credit ratings</li> </ul>"},{"location":"notebooks/#getting-started","title":"Getting Started","text":""},{"location":"notebooks/#prerequisites","title":"Prerequisites","text":"<pre><code># Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\n\n# Install dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"notebooks/#running-notebooks","title":"Running Notebooks","text":"<pre><code># Start Jupyter\njupyter notebook notebooks/\n\n# Or use JupyterLab\njupyter lab notebooks/\n</code></pre>"},{"location":"notebooks/#key-dependencies","title":"Key Dependencies","text":"Package Version Purpose pandas \u22652.0.0 Data manipulation numpy \u22651.24.0 Numerical computing plotly \u22655.15.0 Interactive visualizations scikit-learn \u22651.3.0 ML algorithms statsmodels \u22650.14.0 Statistical models (ARIMA) prophet \u22651.1.0 Time series forecasting"},{"location":"notebooks/#data-simulation-package","title":"Data Simulation Package","text":"<p>The <code>src/treasury_sim/generators.py</code> module provides functions to generate realistic Treasury data:</p> Generator Output Use Case <code>generate_cash_flows()</code> Daily cash movements Cash forecasting <code>generate_daily_cash_position()</code> Bank balances Liquidity analysis <code>generate_fx_rates()</code> Currency pairs FX risk <code>generate_fx_exposures()</code> Open positions Hedge planning <code>generate_payments()</code> Payment transactions Fraud detection <code>generate_commodity_prices()</code> Oil/product prices Hedging <code>generate_counterparties()</code> Customer/supplier data Credit analysis <code>generate_bank_accounts()</code> Account structure Cash pooling <code>generate_trade_documents()</code> LC/invoice data Trade finance <p>Learn more about the Data Generators \u2192</p>"},{"location":"notebooks/#learning-path","title":"Learning Path","text":"<p>We recommend following the notebooks in order for a progressive learning experience:</p> <pre><code>graph LR\n    A[01 Cash Flow] --&gt; B[02 Fraud]\n    B --&gt; C[03 FX Risk]\n    C --&gt; D[04 Commodity]\n    D --&gt; E[05 Trade Finance]\n    E --&gt; F[06 Working Capital]\n    F --&gt; G[07 Copilot]\n    G --&gt; H[08 Compliance]\n</code></pre> <p>However, each notebook is self-contained and can be explored independently based on your interest area.</p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/01-cash-flow-forecasting/","title":"01 Cash Flow Forecasting","text":""},{"location":"notebooks/01-cash-flow-forecasting/#01-cash-flow-forecasting","title":"01 - Cash Flow Forecasting","text":""},{"location":"notebooks/01-cash-flow-forecasting/#business-context","title":"Business Context","text":"<p>Cash flow forecasting is the cornerstone of Treasury operations. For Oil &amp; Gas companies, accurate forecasting is critical due to:</p> <ul> <li>Large transaction values: Single crude cargo can exceed $50M</li> <li>Volatile commodity prices: Daily price swings affect cash needs</li> <li>Long payment cycles: 30-90 day terms create timing gaps</li> <li>Seasonal patterns: Refining margins vary by season</li> </ul> <p>The Challenge</p> <p>A 5% forecasting error on $1B monthly cash flow = $50M liquidity gap</p>"},{"location":"notebooks/01-cash-flow-forecasting/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook demonstrates how to build a production-quality cash flow forecasting system using Facebook's Prophet algorithm, with comparisons to baseline methods.</p>"},{"location":"notebooks/01-cash-flow-forecasting/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>Exploratory Data Analysis for Treasury time series</li> <li>Feature engineering for cash flow patterns</li> <li>Prophet model configuration and tuning</li> <li>Baseline comparisons (naive, moving average)</li> <li>Forecast evaluation metrics and visualization</li> </ol>"},{"location":"notebooks/01-cash-flow-forecasting/#data-design","title":"Data Design","text":""},{"location":"notebooks/01-cash-flow-forecasting/#simulated-dataset","title":"Simulated Dataset","text":"<p>The <code>generate_cash_flows()</code> function creates realistic cash flow data with:</p> <pre><code>from src.treasury_sim.generators import generate_cash_flows\n\ncash_flows = generate_cash_flows(\n    days=365,           # 1 year of history\n    base_inflow=50_000_000,    # $50M daily base\n    base_outflow=45_000_000,   # $45M daily base\n    seed=42\n)\n</code></pre>"},{"location":"notebooks/01-cash-flow-forecasting/#data-patterns-included","title":"Data Patterns Included","text":"Pattern Implementation Business Rationale Weekly cycle Lower weekends Banks closed Month-end spike +40% on days 28-31 Payment runs Quarterly peaks +20% end of Q Tax, dividends Seasonality Summer peak Driving season demand Random noise \u00b115% variation Normal volatility Trend Slight upward Business growth"},{"location":"notebooks/01-cash-flow-forecasting/#sample-data-structure","title":"Sample Data Structure","text":"Column Type Description <code>date</code> datetime Transaction date <code>category</code> string INFLOW or OUTFLOW <code>subcategory</code> string Revenue type, expense type <code>amount</code> float Transaction amount (positive) <code>entity</code> string Business unit <code>currency</code> string TRY, USD, EUR"},{"location":"notebooks/01-cash-flow-forecasting/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/01-cash-flow-forecasting/#step-1-exploratory-data-analysis","title":"Step 1: Exploratory Data Analysis","text":"<pre><code># Aggregate to daily net cash flow\ndaily_cf = cash_flows.groupby(['date', 'category'])['amount'].sum().unstack()\ndaily_cf['net'] = daily_cf['INFLOW'] - daily_cf['OUTFLOW']\n</code></pre> <p>Key Visualizations:</p> <ul> <li>Time series decomposition (trend, seasonal, residual)</li> <li>Distribution analysis by day of week</li> <li>Month-end vs mid-month patterns</li> <li>Autocorrelation plots</li> </ul>"},{"location":"notebooks/01-cash-flow-forecasting/#step-2-baseline-models","title":"Step 2: Baseline Models","text":"<p>Before using advanced ML, we establish baselines:</p> Model Formula Use Case Naive $\\hat{y}t = y$ Random walk assumption 7-Day MA $\\hat{y}t = \\frac{1}{7}\\sum$}^{7} y_{t-i Weekly patterns 30-Day MA $\\hat{y}t = \\frac{1}{30}\\sum$}^{30} y_{t-i Monthly patterns"},{"location":"notebooks/01-cash-flow-forecasting/#step-3-prophet-model","title":"Step 3: Prophet Model","text":"<p>Prophet is ideal for Treasury forecasting because it handles:</p> <ul> <li>Multiple seasonalities (weekly, monthly, yearly)</li> <li>Holiday effects (payment dates, bank holidays)</li> <li>Trend changes (business events)</li> <li>Missing data (weekends, holidays)</li> </ul> <pre><code>from prophet import Prophet\n\nmodel = Prophet(\n    yearly_seasonality=True,\n    weekly_seasonality=True,\n    daily_seasonality=False,\n    seasonality_mode='multiplicative'  # Better for financial data\n)\n\n# Add month-end regressor\ndf['is_month_end'] = df['ds'].dt.day &gt;= 28\nmodel.add_regressor('is_month_end')\n\nmodel.fit(train_df)\n</code></pre>"},{"location":"notebooks/01-cash-flow-forecasting/#step-4-evaluation","title":"Step 4: Evaluation","text":"<p>Metrics Used:</p> Metric Formula Interpretation MAE $\\frac{1}{n}\\sum y - \\hat{y} RMSE $\\sqrt{\\frac{1}{n}\\sum(y - \\hat{y})^2}$ Penalizes large errors MAPE $\\frac{100}{n}\\sum \\frac{y - \\hat{y}}{y}"},{"location":"notebooks/01-cash-flow-forecasting/#key-results","title":"Key Results","text":""},{"location":"notebooks/01-cash-flow-forecasting/#model-comparison","title":"Model Comparison","text":"Model MAE ($M) MAPE (%) Notes Naive 8.2 15.3 Poor for patterns 7-Day MA 5.1 9.8 Captures weekly 30-Day MA 6.3 11.2 Too smooth Prophet 3.2 6.1 Best overall"},{"location":"notebooks/01-cash-flow-forecasting/#business-application","title":"Business Application","text":"<p>The notebook shows how to use forecasts for:</p> <ol> <li>Liquidity Buffer Sizing: Forecast + 2\u03c3 confidence interval</li> <li>Funding Decisions: When to draw credit lines</li> <li>Investment Planning: Excess cash deployment</li> <li>FX Timing: Currency conversion scheduling</li> </ol>"},{"location":"notebooks/01-cash-flow-forecasting/#thinking-traces","title":"Thinking Traces","text":"<p>Why Prophet over ARIMA?</p> <p>Prophet handles missing data gracefully (weekends), supports multiple seasonalities natively, and provides intuitive uncertainty intervals. For Treasury, where interpretability matters, Prophet's additive components (trend + seasonality + holidays) are easier to explain to stakeholders than ARIMA's differencing approach.</p> <p>Why multiplicative seasonality?</p> <p>Cash flow volatility scales with volume. A $100M day has more absolute variation than a $50M day. Multiplicative mode (seasonal effect = base \u00d7 factor) captures this better than additive mode (seasonal effect = base + constant).</p>"},{"location":"notebooks/01-cash-flow-forecasting/#executive-dashboard","title":"Executive Dashboard","text":"<p>The notebook concludes with a comprehensive Plotly dashboard showing:</p> <ul> <li>30-day forecast with confidence intervals</li> <li>Model performance comparison chart</li> <li>Seasonality decomposition plots</li> <li>Forecast accuracy gauge</li> </ul>"},{"location":"notebooks/01-cash-flow-forecasting/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 02 Fraud Detection to secure payment flows</li> <li>\u2192 03 FX Risk Management to forecast currency needs</li> </ol>"},{"location":"notebooks/01-cash-flow-forecasting/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/01_cash_flow_forecasting.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/02-fraud-detection/","title":"02 Fraud Detection","text":""},{"location":"notebooks/02-fraud-detection/#02-fraud-detection","title":"02 - Fraud Detection","text":""},{"location":"notebooks/02-fraud-detection/#business-context","title":"Business Context","text":"<p>Payment fraud is a critical risk for Treasury operations. Oil &amp; Gas companies are particularly vulnerable due to:</p> <ul> <li>High-value transactions: Single payments can exceed $100M</li> <li>Complex supply chains: Multiple intermediaries and jurisdictions</li> <li>Time pressure: Crude cargoes require rapid payment</li> <li>Sophisticated attackers: Business Email Compromise (BEC) targeting energy sector</li> </ul> <p>The Risk</p> <p>Average BEC fraud loss in energy sector: $5.3M per incident (FBI IC3 Report)</p>"},{"location":"notebooks/02-fraud-detection/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook builds a hybrid fraud detection system combining rule-based heuristics with machine learning anomaly detection.</p>"},{"location":"notebooks/02-fraud-detection/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>Payment data patterns and fraud indicators</li> <li>Rule-based detection with business logic</li> <li>Isolation Forest for anomaly detection</li> <li>Hybrid scoring combining both approaches</li> <li>Alert management dashboard design</li> </ol>"},{"location":"notebooks/02-fraud-detection/#data-design","title":"Data Design","text":""},{"location":"notebooks/02-fraud-detection/#simulated-dataset","title":"Simulated Dataset","text":"<p>The <code>generate_payments()</code> function creates payment data with intentional anomalies:</p> <pre><code>from src.treasury_sim.generators import generate_payments\n\npayments = generate_payments(\n    days=90,              # 3 months history\n    daily_count=50,       # ~50 payments/day\n    anomaly_rate=0.02,    # 2% anomalous\n    seed=42\n)\n</code></pre>"},{"location":"notebooks/02-fraud-detection/#injected-anomaly-types","title":"Injected Anomaly Types","text":"Anomaly Type Simulation Method Real-World Example Large amount 10x normal Inflated invoice Unusual time Outside 9-5 After-hours fraud New beneficiary Random new account Account takeover Round amount Exact millions Fictitious payment High-risk country Sanctioned jurisdictions Sanctions evasion"},{"location":"notebooks/02-fraud-detection/#data-structure","title":"Data Structure","text":"Column Type Description <code>payment_id</code> string Unique identifier <code>timestamp</code> datetime Payment initiation time <code>amount</code> float Payment amount <code>currency</code> string Payment currency <code>beneficiary_id</code> string Recipient identifier <code>beneficiary_country</code> string Recipient country <code>payment_type</code> string WIRE, ACH, SWIFT <code>is_anomaly</code> bool Ground truth label <code>anomaly_type</code> string Type of anomaly (if any)"},{"location":"notebooks/02-fraud-detection/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/02-fraud-detection/#step-1-rule-based-detection","title":"Step 1: Rule-Based Detection","text":"<p>Business rules encode domain expertise:</p> <pre><code>class FraudRuleEngine:\n    def __init__(self):\n        self.rules = [\n            ('large_amount', self._check_large_amount),\n            ('unusual_hour', self._check_unusual_hour),\n            ('high_risk_country', self._check_high_risk_country),\n            ('new_beneficiary', self._check_new_beneficiary),\n            ('round_amount', self._check_round_amount)\n        ]\n</code></pre> <p>Rule Definitions:</p> Rule Threshold Score Large Amount &gt; $5M or &gt; 3\u03c3 from mean 30 Unusual Hour Before 7am or after 7pm 20 High-Risk Country Sanctioned list 40 New Beneficiary First-time recipient 15 Round Amount Exact millions 10"},{"location":"notebooks/02-fraud-detection/#step-2-isolation-forest","title":"Step 2: Isolation Forest","text":"<p>Isolation Forest detects anomalies by measuring how easily a point can be isolated:</p> <pre><code>from sklearn.ensemble import IsolationForest\n\n# Feature engineering\nfeatures = ['amount_log', 'hour', 'day_of_week',\n            'beneficiary_frequency', 'amount_vs_avg']\n\nmodel = IsolationForest(\n    n_estimators=100,\n    contamination=0.02,  # Expected anomaly rate\n    random_state=42\n)\n\n# Train on historical data\nmodel.fit(X_train)\n\n# Score new payments (-1 = anomaly, 1 = normal)\nanomaly_scores = model.decision_function(X_test)\n</code></pre> <p>Why Isolation Forest?</p> <ul> <li>Unsupervised: No labeled fraud data required</li> <li>Efficient: O(n log n) complexity</li> <li>Interpretable: Anomaly score is intuitive</li> <li>Robust: Works well with high-dimensional data</li> </ul>"},{"location":"notebooks/02-fraud-detection/#step-3-hybrid-scoring","title":"Step 3: Hybrid Scoring","text":"<p>Combine rule-based and ML scores:</p> <pre><code>def calculate_hybrid_score(payment, rule_score, ml_score):\n    \"\"\"\n    Combine rule-based and ML scores with weighted average.\n\n    - Rule score: 0-100 (sum of triggered rules)\n    - ML score: -1 to 1 (Isolation Forest decision function)\n    \"\"\"\n    # Normalize ML score to 0-100\n    ml_normalized = (1 - ml_score) * 50  # More negative = higher risk\n\n    # Weighted combination\n    hybrid = 0.4 * rule_score + 0.6 * ml_normalized\n\n    return min(hybrid, 100)\n</code></pre> <p>Alert Thresholds:</p> Score Range Alert Level Action 0-30 Low Auto-approve 31-60 Medium Queue for review 61-80 High Immediate review 81-100 Critical Block + escalate"},{"location":"notebooks/02-fraud-detection/#step-4-performance-evaluation","title":"Step 4: Performance Evaluation","text":"<p>Confusion Matrix Analysis:</p> <pre><code>                    Predicted\n                 Normal  | Anomaly\nActual  Normal  |  TN    |   FP   |  \u2192 False Positive Rate\n        Anomaly |  FN    |   TP   |  \u2192 Detection Rate\n</code></pre> <p>Key Metrics:</p> Metric Formula Target Precision TP / (TP + FP) &gt; 80% Recall TP / (TP + FN) &gt; 95% F1 Score 2 \u00d7 (P \u00d7 R) / (P + R) &gt; 85%"},{"location":"notebooks/02-fraud-detection/#key-results","title":"Key Results","text":""},{"location":"notebooks/02-fraud-detection/#detection-performance","title":"Detection Performance","text":"Method Precision Recall F1 Score Rules Only 72% 85% 78% ML Only 68% 92% 78% Hybrid 81% 94% 87%"},{"location":"notebooks/02-fraud-detection/#feature-importance-isolation-forest","title":"Feature Importance (Isolation Forest)","text":"Feature Importance Interpretation amount_log 0.35 Unusual amounts most predictive beneficiary_frequency 0.25 New beneficiaries suspicious hour 0.18 Time of day matters amount_vs_avg 0.15 Deviation from pattern day_of_week 0.07 Weekend payments unusual"},{"location":"notebooks/02-fraud-detection/#thinking-traces","title":"Thinking Traces","text":"<p>Why hybrid over pure ML?</p> <p>Pure ML models can miss obvious fraud patterns that simple rules catch easily (e.g., payments to sanctioned countries). Conversely, rules alone miss novel fraud patterns. The hybrid approach captures both known patterns (rules) and unknown anomalies (ML).</p> <p>Why 0.02 contamination?</p> <p>Industry benchmarks suggest 1-3% of corporate payments have fraud indicators. Setting contamination to 2% balances sensitivity with false positive management. Too low = miss fraud; too high = alert fatigue.</p> <p>Why weighted 40/60 for hybrid?</p> <p>Rules encode certain knowledge (sanctioned countries are always high risk). ML captures uncertain patterns. We weight ML higher (60%) because it adapts to new patterns, but rules (40%) provide a floor of protection against known threats.</p>"},{"location":"notebooks/02-fraud-detection/#executive-dashboard","title":"Executive Dashboard","text":"<p>The notebook includes an alert management dashboard showing:</p> <ul> <li>Alert volume by severity level</li> <li>Detection rate trend over time</li> <li>False positive rate monitoring</li> <li>Top triggered rules analysis</li> <li>Payment flow sankey diagram</li> </ul>"},{"location":"notebooks/02-fraud-detection/#business-application","title":"Business Application","text":""},{"location":"notebooks/02-fraud-detection/#integration-points","title":"Integration Points","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Payment    \u2502\u2500\u2500\u2500\u25b6\u2502   Fraud     \u2502\u2500\u2500\u2500\u25b6\u2502   Alert     \u2502\n\u2502  Initiation \u2502    \u2502   Engine    \u2502    \u2502   Queue     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502                  \u2502\n                          \u25bc                  \u25bc\n                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                   \u2502  Auto       \u2502    \u2502  Manual     \u2502\n                   \u2502  Approve    \u2502    \u2502  Review     \u2502\n                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"notebooks/02-fraud-detection/#operational-workflow","title":"Operational Workflow","text":"<ol> <li>Real-time scoring: &lt; 100ms per payment</li> <li>Queue management: Priority by risk score</li> <li>Analyst review: Context-rich alert cards</li> <li>Feedback loop: Analyst decisions retrain model</li> </ol>"},{"location":"notebooks/02-fraud-detection/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 03 FX Risk Management to manage currency exposure</li> <li>\u2192 05 Trade Finance for document-level fraud detection</li> </ol>"},{"location":"notebooks/02-fraud-detection/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/02_fraud_detection.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/03-fx-risk-management/","title":"03 FX Risk Management","text":""},{"location":"notebooks/03-fx-risk-management/#03-fx-risk-management","title":"03 - FX Risk Management","text":""},{"location":"notebooks/03-fx-risk-management/#business-context","title":"Business Context","text":"<p>Oil &amp; Gas companies face significant foreign exchange exposure:</p> <ul> <li>Crude purchases: Denominated in USD globally</li> <li>Product sales: Local currency (TRY in Turkey)</li> <li>Result: Structural USD short position</li> </ul> <p>For a Turkish refiner: - Buy crude in USD \u2192 Pay more TRY when USD strengthens - Sell products in TRY \u2192 Revenue fixed in local currency - Net exposure: USD payables exceed USD receivables</p> <p>The Risk</p> <p>10% USD/TRY movement on $500M monthly crude purchases = $50M P&amp;L impact</p>"},{"location":"notebooks/03-fx-risk-management/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook demonstrates FX risk quantification, hedge optimization using Monte Carlo simulation, and exposure management strategies.</p>"},{"location":"notebooks/03-fx-risk-management/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>FX exposure aggregation across entities</li> <li>Volatility analysis and VaR calculation</li> <li>Monte Carlo simulation for hedge optimization</li> <li>Hedge effectiveness measurement (IFRS 9)</li> <li>FX risk dashboard design</li> </ol>"},{"location":"notebooks/03-fx-risk-management/#data-design","title":"Data Design","text":""},{"location":"notebooks/03-fx-risk-management/#simulated-datasets","title":"Simulated Datasets","text":"<pre><code>from src.treasury_sim.generators import generate_fx_rates, generate_fx_exposures\n\n# Historical FX rates\nfx_rates = generate_fx_rates(\n    days=365,\n    currency_pairs=['USD/TRY', 'EUR/TRY', 'EUR/USD'],\n    seed=42\n)\n\n# Open FX exposures\nexposures = generate_fx_exposures(\n    n_exposures=200,\n    seed=42\n)\n</code></pre>"},{"location":"notebooks/03-fx-risk-management/#fx-rate-patterns","title":"FX Rate Patterns","text":"Pattern Implementation Rationale Trend Gradual TRY depreciation Turkish inflation Volatility clustering GARCH-like behavior Market stress periods Mean reversion Short-term Technical trading Jumps Occasional large moves Central bank actions"},{"location":"notebooks/03-fx-risk-management/#exposure-categories","title":"Exposure Categories","text":"Type Sign Example RECEIVABLE + USD sales to export customers PAYABLE - USD crude purchases FORECAST_REVENUE + Expected USD income FORECAST_COST - Planned USD spending"},{"location":"notebooks/03-fx-risk-management/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/03-fx-risk-management/#step-1-exposure-analysis","title":"Step 1: Exposure Analysis","text":"<pre><code># Aggregate exposures by currency and maturity\nexposure_summary = exposures.groupby(['currency', 'maturity_bucket']).agg({\n    'amount_local': 'sum',\n    'is_hedged': 'mean'\n})\n</code></pre> <p>Key Metrics:</p> Metric Formula Purpose Net Exposure Receivables - Payables Total risk position Hedge Ratio Hedged / Total Coverage level Open Exposure Net \u00d7 (1 - Hedge Ratio) Unprotected risk"},{"location":"notebooks/03-fx-risk-management/#step-2-volatility-analysis","title":"Step 2: Volatility Analysis","text":"<pre><code># Calculate returns and volatility\nfx_returns = fx_rates.pct_change()\nannual_vol = fx_returns.std() * np.sqrt(252)\n\n# Value at Risk (95% confidence)\nvar_95 = fx_returns.quantile(0.05)\n</code></pre> <p>Volatility Metrics:</p> Metric USD/TRY EUR/TRY Interpretation Daily Vol 1.2% 1.1% Average daily move Annual Vol 19% 17% Yearly uncertainty VaR (95%) -2.1% -1.9% Worst daily loss (95% conf)"},{"location":"notebooks/03-fx-risk-management/#step-3-monte-carlo-simulation","title":"Step 3: Monte Carlo Simulation","text":"<p>Simulate thousands of FX scenarios to find optimal hedge ratio:</p> <pre><code>def monte_carlo_hedge_analysis(exposure, fx_start, volatility,\n                                hedge_ratios, n_simulations=10000):\n    \"\"\"\n    Simulate P&amp;L for different hedge ratios.\n    \"\"\"\n    results = []\n\n    for hr in hedge_ratios:\n        # Simulate FX movements\n        fx_changes = np.random.normal(0, volatility, n_simulations)\n        fx_end = fx_start * (1 + fx_changes)\n\n        # Calculate P&amp;L\n        unhedged_pnl = exposure * fx_changes\n        hedge_pnl = -exposure * hr * fx_changes\n        net_pnl = unhedged_pnl + hedge_pnl\n\n        results.append({\n            'hedge_ratio': hr,\n            'mean_pnl': net_pnl.mean(),\n            'std_pnl': net_pnl.std(),\n            'var_95': np.percentile(net_pnl, 5)\n        })\n\n    return pd.DataFrame(results)\n</code></pre> <p>Optimization Objective:</p> <p>Minimize Value at Risk (VaR) while considering:</p> <ul> <li>Hedge costs (forward points)</li> <li>Operational constraints</li> <li>Accounting treatment (IFRS 9)</li> </ul>"},{"location":"notebooks/03-fx-risk-management/#step-4-hedge-effectiveness","title":"Step 4: Hedge Effectiveness","text":"<p>IFRS 9 requires hedge effectiveness between 80-125%:</p> <pre><code>def calculate_hedge_effectiveness(exposure_pnl, hedge_pnl):\n    \"\"\"\n    Hedge effectiveness = |Hedge P&amp;L / Exposure P&amp;L|\n    Must be between 80% and 125% for hedge accounting.\n    \"\"\"\n    effectiveness = abs(hedge_pnl / exposure_pnl) * 100\n    qualifies = 80 &lt;= effectiveness &lt;= 125\n    return effectiveness, qualifies\n</code></pre>"},{"location":"notebooks/03-fx-risk-management/#key-results","title":"Key Results","text":""},{"location":"notebooks/03-fx-risk-management/#optimal-hedge-ratio","title":"Optimal Hedge Ratio","text":"Hedge Ratio VaR (95%) Std Dev Recommendation 0% -$8.2M $4.1M Too risky 50% -$4.1M $2.1M Moderate 75% -$2.1M $1.0M Optimal 100% -$0.5M $0.3M Over-hedged (costly) <p>Finding: 75% hedge ratio minimizes VaR while maintaining flexibility for favorable moves.</p>"},{"location":"notebooks/03-fx-risk-management/#hedge-effectiveness-analysis","title":"Hedge Effectiveness Analysis","text":"<pre><code>Scenario: USD strengthens 5%\n\u251c\u2500\u2500 Exposure P&amp;L: -$25M (loss on USD payables)\n\u251c\u2500\u2500 Hedge P&amp;L: +$18.75M (gain on forwards at 75% ratio)\n\u251c\u2500\u2500 Net P&amp;L: -$6.25M\n\u2514\u2500\u2500 Effectiveness: 75% \u2713 (qualifies for hedge accounting)\n</code></pre>"},{"location":"notebooks/03-fx-risk-management/#thinking-traces","title":"Thinking Traces","text":"<p>Why Monte Carlo over analytical VaR?</p> <p>Analytical VaR assumes normal distribution, but FX returns have fat tails (more extreme moves than normal). Monte Carlo can simulate any distribution, including the heavy tails observed in USD/TRY during crisis periods.</p> <p>Why not 100% hedge?</p> <p>Full hedging eliminates both downside AND upside. For a refiner with natural TRY revenue, keeping some exposure allows benefiting from TRY strength. Also, forward points (hedge cost) can be significant for EM currencies.</p> <p>Why 75% optimal?</p> <p>Balances risk reduction (VaR drops 75%) with upside participation and hedge costs. This ratio also typically qualifies for hedge accounting under IFRS 9.</p>"},{"location":"notebooks/03-fx-risk-management/#executive-dashboard","title":"Executive Dashboard","text":"<p>The notebook includes a comprehensive FX risk dashboard:</p> <ul> <li>Net exposure by currency (pie chart)</li> <li>USD/TRY rate YTD (line chart with MA)</li> <li>Exposure maturity profile (bar chart)</li> <li>Hedge coverage by currency (bar chart with target line)</li> <li>Rolling VaR trend (line chart)</li> <li>P&amp;L waterfall (attribution chart)</li> </ul>"},{"location":"notebooks/03-fx-risk-management/#business-application","title":"Business Application","text":""},{"location":"notebooks/03-fx-risk-management/#fx-risk-management-workflow","title":"FX Risk Management Workflow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Exposure        \u2502\n\u2502 Aggregation     \u2502\u2500\u2500\u2510\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Market Data     \u2502\u2500\u2500\u25b6  Risk          \u2502\n\u2502 (FX rates, vol) \u2502  \u2502  Calculation   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502 Hedge           \u2502\n                     \u2502 Recommendation  \u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u25bc                               \u25bc\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502 Forward         \u2502             \u2502 Option          \u2502\n     \u2502 Execution       \u2502             \u2502 Execution       \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"notebooks/03-fx-risk-management/#natural-hedge-consideration","title":"Natural Hedge Consideration","text":"<p>For Oil &amp; Gas, consider the oil-USD correlation:</p> <ul> <li>Oil prices and USD often move together</li> <li>TRY weakening may coincide with oil price rises</li> <li>Natural hedge exists in the commodity-currency relationship</li> </ul>"},{"location":"notebooks/03-fx-risk-management/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 04 Commodity Hedging for oil price risk</li> <li>\u2192 06 Working Capital for AR/AP in foreign currency</li> </ol>"},{"location":"notebooks/03-fx-risk-management/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/03_fx_risk_management.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/04-commodity-hedging/","title":"04 Commodity Hedging","text":""},{"location":"notebooks/04-commodity-hedging/#04-commodity-price-hedging","title":"04 - Commodity Price Hedging","text":""},{"location":"notebooks/04-commodity-hedging/#business-context","title":"Business Context","text":"<p>Oil &amp; Gas refiners face dual commodity exposure:</p> <ul> <li>Input: Crude oil purchases (Brent, WTI)</li> <li>Output: Refined products (gasoline, diesel, jet fuel)</li> <li>Margin: The \"crack spread\" = Product price - Crude price</li> </ul> <p>What is a Crack Spread?</p> <p>The term comes from the refining process of \"cracking\" crude oil molecules into lighter products. The 3-2-1 crack spread assumes 3 barrels of crude yields 2 barrels of gasoline + 1 barrel of diesel.</p> <p>The Risk:</p> Scenario Crude Price Product Price Margin Impact Crude spike \u2191 $10 \u2191 $5 Margin squeeze Demand drop \u2193 $5 \u2193 $10 Margin squeeze Normal Stable Stable Healthy margin"},{"location":"notebooks/04-commodity-hedging/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook demonstrates commodity price forecasting with ARIMA, crack spread analysis, and hedge recommendation systems.</p>"},{"location":"notebooks/04-commodity-hedging/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>Commodity price patterns and volatility</li> <li>Crack spread calculation and monitoring</li> <li>ARIMA forecasting for price direction</li> <li>Hedge timing recommendations</li> <li>Executive dashboard for hedging decisions</li> </ol>"},{"location":"notebooks/04-commodity-hedging/#data-design","title":"Data Design","text":""},{"location":"notebooks/04-commodity-hedging/#simulated-dataset","title":"Simulated Dataset","text":"<pre><code>from src.treasury_sim.generators import generate_commodity_prices\n\ncommodities, commodity_pivot = generate_commodity_prices(\n    days=730,  # 2 years\n    seed=42\n)\n</code></pre>"},{"location":"notebooks/04-commodity-hedging/#commodities-included","title":"Commodities Included","text":"Commodity Unit Typical Range Volatility Brent Crude $/barrel $70-100 High WTI Crude $/barrel $65-95 High Gasoline $/gallon $2.00-3.50 Medium Diesel $/gallon $2.50-4.00 Medium"},{"location":"notebooks/04-commodity-hedging/#price-patterns","title":"Price Patterns","text":"<ul> <li>Mean reversion: Prices tend toward long-run average</li> <li>Volatility clustering: High-vol periods persist</li> <li>Seasonality: Gasoline peaks in summer (driving season)</li> <li>Correlation: Brent-WTI spread, crack spread dynamics</li> </ul>"},{"location":"notebooks/04-commodity-hedging/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/04-commodity-hedging/#step-1-crack-spread-calculation","title":"Step 1: Crack Spread Calculation","text":"<pre><code># Convert to per-barrel basis (42 gallons per barrel)\ncommodity_pivot['GASOLINE_BBL'] = commodity_pivot['GASOLINE'] * 42\ncommodity_pivot['DIESEL_BBL'] = commodity_pivot['DIESEL'] * 42\n\n# 3-2-1 Crack Spread\ncommodity_pivot['CRACK_321'] = (\n    (2 * commodity_pivot['GASOLINE_BBL'] +\n     1 * commodity_pivot['DIESEL_BBL']) / 3\n    - commodity_pivot['BRENT']\n)\n</code></pre> <p>Interpretation:</p> Crack Spread Meaning Action &gt; $20/bbl Excellent margin Lock in with futures $10-20/bbl Normal margin Monitor &lt; $10/bbl Margin pressure Consider production cuts"},{"location":"notebooks/04-commodity-hedging/#step-2-arima-forecasting","title":"Step 2: ARIMA Forecasting","text":"<p>ARIMA (AutoRegressive Integrated Moving Average) for price direction:</p> <pre><code>from statsmodels.tsa.arima.model import ARIMA\n\n# Fit ARIMA(5,1,2) model\nmodel = ARIMA(train_prices, order=(5, 1, 2))\nfitted = model.fit()\n\n# Forecast 30 days\nforecast = fitted.forecast(steps=30)\n</code></pre> <p>Model Selection:</p> Parameter Value Meaning p = 5 AR(5) Use last 5 days' prices d = 1 I(1) First difference (remove trend) q = 2 MA(2) Use last 2 days' errors"},{"location":"notebooks/04-commodity-hedging/#step-3-hedge-recommendation-engine","title":"Step 3: Hedge Recommendation Engine","text":"<pre><code>def generate_hedge_recommendation(price_data, current_hedge_ratio=0.5):\n    \"\"\"\n    Generate hedge recommendations based on:\n    - Price vs 30-day average\n    - Volatility level\n    - Crack spread health\n    \"\"\"\n    latest = price_data.iloc[-1]\n    avg_30d = price_data.iloc[-30:].mean()\n    vol_30d = price_data.iloc[-30:].pct_change().std() * np.sqrt(252)\n\n    # Recommendation logic\n    if latest['BRENT'] &gt; avg_30d['BRENT'] * 1.05:\n        crude_rec = \"INCREASE HEDGE - Prices above 30D average\"\n        target_ratio = min(current_hedge_ratio + 0.2, 1.0)\n    elif latest['BRENT'] &lt; avg_30d['BRENT'] * 0.95:\n        crude_rec = \"REDUCE HEDGE - Prices below 30D average\"\n        target_ratio = max(current_hedge_ratio - 0.1, 0.3)\n    else:\n        crude_rec = \"MAINTAIN - Prices near average\"\n        target_ratio = current_hedge_ratio\n\n    return {\n        'crude_recommendation': crude_rec,\n        'target_hedge_ratio': target_ratio,\n        'volatility': vol_30d,\n        'crack_spread': latest['CRACK_321']\n    }\n</code></pre>"},{"location":"notebooks/04-commodity-hedging/#step-4-backtest-strategy","title":"Step 4: Backtest Strategy","text":"<p>Test the recommendation engine on historical data:</p> <pre><code>def backtest_strategy(prices, initial_hedge=0.5):\n    \"\"\"\n    Simulate hedge decisions and calculate P&amp;L impact.\n    \"\"\"\n    hedge_ratio = initial_hedge\n    total_cost = 0\n    hedge_cost = 0\n\n    for i in range(30, len(prices)):\n        # Get recommendation\n        rec = generate_hedge_recommendation(prices.iloc[:i], hedge_ratio)\n        hedge_ratio = rec['target_hedge_ratio']\n\n        # Calculate next day's P&amp;L\n        price_change = prices.iloc[i]['BRENT'] - prices.iloc[i-1]['BRENT']\n        unhedged_impact = price_change * (1 - hedge_ratio)\n\n        total_cost += abs(unhedged_impact)\n\n    return total_cost\n</code></pre>"},{"location":"notebooks/04-commodity-hedging/#key-results","title":"Key Results","text":""},{"location":"notebooks/04-commodity-hedging/#arima-forecast-performance","title":"ARIMA Forecast Performance","text":"Metric Value Interpretation MAE $2.15 Average error ~$2/bbl RMSE $3.42 Larger errors penalized MAPE 2.8% ~3% percentage error <p>Note: Commodity forecasting is notoriously difficult. ARIMA provides directional guidance, not precise predictions.</p>"},{"location":"notebooks/04-commodity-hedging/#crack-spread-statistics","title":"Crack Spread Statistics","text":"Metric Value Mean $15.23/bbl Std Dev $4.87/bbl Min $3.12/bbl Max $28.45/bbl"},{"location":"notebooks/04-commodity-hedging/#hedge-strategy-backtest","title":"Hedge Strategy Backtest","text":"Strategy Cost Reduction Notes No hedge Baseline Full exposure Fixed 50% 45% Simple approach Dynamic 62% Recommendation engine Full hedge 95% High cost, no upside"},{"location":"notebooks/04-commodity-hedging/#thinking-traces","title":"Thinking Traces","text":"<p>Why ARIMA over more complex models?</p> <p>For commodity prices, simple models often perform as well as complex ones because markets are efficient. ARIMA captures autocorrelation without overfitting. More complex models (LSTM, etc.) may capture noise rather than signal.</p> <p>Why not use ARIMA for trading signals?</p> <p>Forecasting accuracy of 2-3% is useful for risk management (hedge timing) but NOT for speculative trading. Transaction costs and bid-ask spreads would eliminate any edge. Use for risk management, not speculation.</p> <p>Why dynamic hedging?</p> <p>Static hedging (always 50%) ignores market conditions. When prices are above average, hedging more locks in better prices. When prices are below average, hedging less allows buying cheaper later. This simple rule adds value over static approaches.</p>"},{"location":"notebooks/04-commodity-hedging/#executive-dashboard","title":"Executive Dashboard","text":"<p>The notebook includes a hedging decision dashboard:</p> <ul> <li>Brent price with 30-day MA (trend signal)</li> <li>3-2-1 Crack spread (margin health)</li> <li>Rolling 30-day volatility (risk level)</li> <li>Price-crack correlation (relationship analysis)</li> </ul>"},{"location":"notebooks/04-commodity-hedging/#business-application","title":"Business Application","text":""},{"location":"notebooks/04-commodity-hedging/#hedging-instruments","title":"Hedging Instruments","text":"Instrument Use Case Pros Cons Futures Lock price Simple, liquid No upside Swaps Fixed-for-float Customizable Counterparty risk Options Protection + upside Flexibility Premium cost Collars Bounded range Low/zero cost Capped upside"},{"location":"notebooks/04-commodity-hedging/#hedge-accounting-ifrs-9","title":"Hedge Accounting (IFRS 9)","text":"<p>To qualify for hedge accounting:</p> <ol> <li>Documentation: Formal hedge designation</li> <li>Effectiveness: 80-125% offset</li> <li>Probability: Hedged item highly probable</li> <li>Measurability: Fair value determinable</li> </ol>"},{"location":"notebooks/04-commodity-hedging/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 05 Trade Finance for crude purchase documentation</li> <li>\u2192 03 FX Risk Management for USD exposure from crude</li> </ol>"},{"location":"notebooks/04-commodity-hedging/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/04_commodity_hedging.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/05-trade-finance/","title":"05 Trade Finance","text":""},{"location":"notebooks/05-trade-finance/#05-trade-finance-automation","title":"05 - Trade Finance Automation","text":""},{"location":"notebooks/05-trade-finance/#business-context","title":"Business Context","text":"<p>Oil &amp; Gas refiners process hundreds of trade documents for crude imports:</p> <ul> <li>Letters of Credit (LCs): Bank payment guarantees</li> <li>Bills of Lading: Shipping proof documents</li> <li>Commercial Invoices: Pricing and quantity details</li> <li>Certificates: Origin, quality, insurance</li> </ul> <p>The Problem</p> <p>60-70% of LCs have discrepancies on first presentation, causing:</p> <ul> <li>Payment delays (3-5 days average)</li> <li>Discrepancy fees ($150-500 each)</li> <li>Operational burden (manual review)</li> <li>Cargo demurrage costs</li> </ul>"},{"location":"notebooks/05-trade-finance/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook demonstrates how Document AI and NLP can automate trade finance processing, reducing discrepancies and accelerating payments.</p>"},{"location":"notebooks/05-trade-finance/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>Trade document structure and UCP 600 requirements</li> <li>OCR simulation and field extraction</li> <li>Cross-document validation logic</li> <li>Discrepancy detection and resolution</li> <li>Processing time analytics</li> </ol>"},{"location":"notebooks/05-trade-finance/#data-design","title":"Data Design","text":""},{"location":"notebooks/05-trade-finance/#simulated-dataset","title":"Simulated Dataset","text":"<pre><code>from src.treasury_sim.generators import generate_trade_documents\n\ndocuments = generate_trade_documents(\n    n_transactions=100,  # 100 LC sets\n    seed=42\n)\n</code></pre>"},{"location":"notebooks/05-trade-finance/#document-types-generated","title":"Document Types Generated","text":"Document Type Key Fields Validation Rules LC Amount, expiry, terms Master document Invoice Amount, goods, quantity Must not exceed LC Bill of Lading Vessel, ports, quantity Must match LC terms Certificate of Origin Country, exporter Must match LC Quality Certificate API gravity, sulfur Must meet specs Insurance Certificate Coverage, voyage Must cover shipment"},{"location":"notebooks/05-trade-finance/#intentional-discrepancies","title":"Intentional Discrepancies","text":"<p>The generator injects realistic discrepancies:</p> Discrepancy Type Frequency Severity Amount mismatch 8% High Quantity variance 12% Medium Description difference 5% High Date issues 3% High Party name mismatch 7% Medium"},{"location":"notebooks/05-trade-finance/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/05-trade-finance/#step-1-document-extraction-ocr-simulation","title":"Step 1: Document Extraction (OCR Simulation)","text":"<pre><code>class DocumentExtractor:\n    \"\"\"\n    Simulates OCR and field extraction.\n    In production: Azure Form Recognizer, AWS Textract\n    \"\"\"\n\n    def extract(self, document):\n        extracted_fields = {}\n\n        for field in self.field_definitions[document.type]:\n            value = self._extract_field(document, field)\n            confidence = self._calculate_confidence(field)\n\n            extracted_fields[field] = {\n                'value': value,\n                'confidence': confidence\n            }\n\n        return extracted_fields\n</code></pre> <p>Confidence Thresholds:</p> Confidence Action Example &gt; 95% Auto-accept Clear printed numbers 80-95% Review flag Handwritten amounts &lt; 80% Manual entry Poor scan quality"},{"location":"notebooks/05-trade-finance/#step-2-validation-rules-engine","title":"Step 2: Validation Rules Engine","text":"<pre><code>class DocumentValidator:\n    \"\"\"\n    Validates documents against LC requirements (UCP 600).\n    \"\"\"\n\n    def __init__(self):\n        self.rules = [\n            ('amount_match', self._check_amount_match),\n            ('quantity_tolerance', self._check_quantity_tolerance),\n            ('goods_description', self._check_goods_description),\n            ('date_validity', self._check_date_validity),\n            ('currency_match', self._check_currency_match)\n        ]\n\n    def _check_amount_match(self, docs):\n        \"\"\"Invoice amount must not exceed LC amount\"\"\"\n        lc_amount = docs['LC']['amount']\n        invoice_amount = docs['INVOICE']['amount']\n\n        if invoice_amount &gt; lc_amount:\n            return {\n                'rule': 'amount_match',\n                'severity': 'HIGH',\n                'message': f'Invoice exceeds LC by ${invoice_amount - lc_amount:,.0f}'\n            }\n        return None\n</code></pre> <p>Key UCP 600 Rules:</p> Rule Requirement Tolerance Amount Invoice \u2264 LC 0% Quantity B/L = Invoice \u00b15% Description Exact match None Dates Within validity None Parties Exact names None"},{"location":"notebooks/05-trade-finance/#step-3-discrepancy-resolution","title":"Step 3: Discrepancy Resolution","text":"<pre><code>class DiscrepancyResolver:\n    \"\"\"\n    AI-powered resolution recommendations.\n    \"\"\"\n\n    resolution_patterns = {\n        'amount_match': {\n            'action': 'REQUEST_AMENDMENT',\n            'template': 'Request LC amendment to ${amount}',\n            'avg_days': 3,\n            'cost': 350\n        },\n        'quantity_tolerance': {\n            'action': 'NEGOTIATE_TOLERANCE',\n            'template': 'Request acceptance under +/- 5% clause',\n            'avg_days': 1,\n            'cost': 150\n        }\n        # ... more patterns\n    }\n\n    def recommend(self, discrepancy):\n        pattern = self.resolution_patterns[discrepancy['rule']]\n        return {\n            'action': pattern['action'],\n            'estimated_days': pattern['avg_days'],\n            'estimated_cost': pattern['cost']\n        }\n</code></pre>"},{"location":"notebooks/05-trade-finance/#step-4-processing-time-analysis","title":"Step 4: Processing Time Analysis","text":"<p>Compare manual vs AI-assisted processing:</p> Process Step Manual AI-Assisted Savings Document receipt 8 hours 0.5 hours 94% OCR/digitization 3 hours 3 minutes 98% Field extraction 2 hours 10 seconds 99% Cross-validation 3 hours 10 seconds 99% Discrepancy ID 1.5 hours Instant 99% Total 18.5 hours ~1 hour 95%"},{"location":"notebooks/05-trade-finance/#key-results","title":"Key Results","text":""},{"location":"notebooks/05-trade-finance/#validation-performance","title":"Validation Performance","text":"Metric Value Total transactions 100 First-pass compliant 42% With discrepancies 58% Auto-resolvable 35%"},{"location":"notebooks/05-trade-finance/#discrepancy-distribution","title":"Discrepancy Distribution","text":"Type Count Severity Amount mismatch 15 High Quantity variance 22 Medium Goods description 8 High Date issues 5 High Currency mismatch 8 Medium"},{"location":"notebooks/05-trade-finance/#cost-impact","title":"Cost Impact","text":"Metric Manual AI-Assisted Cost per document $50 $12 Discrepancy cost $350 avg $150 avg Total cost (100 docs) $5,000 $1,200 Annual savings - $152K"},{"location":"notebooks/05-trade-finance/#thinking-traces","title":"Thinking Traces","text":"<p>Why rules + ML, not just ML?</p> <p>Trade finance has strict legal requirements (UCP 600). Rules ensure compliance with these non-negotiable standards. ML helps with fuzzy matching (goods descriptions) and confidence scoring, but rules provide the compliance backbone.</p> <p>Why simulate OCR instead of using real OCR?</p> <ol> <li>Real OCR APIs have costs and rate limits</li> <li>We control the data patterns for educational purposes</li> <li>The validation and resolution logic is the focus</li> <li>Production deployment would swap in Azure Form Recognizer</li> </ol> <p>Why is 60-70% discrepancy rate realistic?</p> <p>Industry studies (ICC Trade Finance Survey) consistently show 60-70% first-presentation rejection rates. Common causes: typos, date errors, description mismatches. AI can catch these before submission.</p>"},{"location":"notebooks/05-trade-finance/#executive-dashboard","title":"Executive Dashboard","text":"<p>The notebook includes an operations dashboard:</p> <ul> <li>Document volume by type (pie chart)</li> <li>Compliance rate gauge (target: 50%+)</li> <li>Processing funnel (received \u2192 approved)</li> <li>Discrepancy trend (declining with AI)</li> <li>Cost savings (monthly trend)</li> <li>SLA performance (% within target time)</li> </ul>"},{"location":"notebooks/05-trade-finance/#business-application","title":"Business Application","text":""},{"location":"notebooks/05-trade-finance/#integration-architecture","title":"Integration Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Document       \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  AI Processing  \u2502\u2500\u2500\u2500\u2500\u25b6\u2502  Trade Finance  \u2502\n\u2502  Ingestion      \u2502     \u2502  Engine         \u2502     \u2502  System (TMS)   \u2502\n\u2502  (Email/Portal) \u2502     \u2502                 \u2502     \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                 \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u25bc                         \u25bc\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502  Auto-Approve   \u2502       \u2502  Discrepancy    \u2502\n           \u2502  Queue          \u2502       \u2502  Workbench      \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"notebooks/05-trade-finance/#technology-stack","title":"Technology Stack","text":"Component Technology Purpose OCR Azure Form Recognizer Document digitization NER Custom BERT model Field extraction Validation Rules engine UCP 600 compliance Matching Fuzzy matching Description comparison Workflow Power Automate Process orchestration"},{"location":"notebooks/05-trade-finance/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 06 Working Capital for AR/AP from trade</li> <li>\u2192 02 Fraud Detection for payment security</li> </ol>"},{"location":"notebooks/05-trade-finance/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/05_trade_finance.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/06-working-capital/","title":"06 Working Capital","text":""},{"location":"notebooks/06-working-capital/#06-working-capital-optimization","title":"06 - Working Capital Optimization","text":""},{"location":"notebooks/06-working-capital/#business-context","title":"Business Context","text":"<p>Working capital management is critical for Oil &amp; Gas refiners:</p> <ul> <li>Receivables (AR): $500M-2B outstanding at any time</li> <li>Payables (AP): Crude suppliers, contractors, utilities</li> <li>Inventory: Crude oil, refined products, spare parts</li> <li>Cash Conversion Cycle: Typically 30-90 days</li> </ul> <p>Working Capital Formula</p> <p>Net Working Capital = Current Assets - Current Liabilities</p> <p>Where: - Current Assets = Cash + AR + Inventory - Current Liabilities = AP + Short-term Debt</p> <p>The Challenge:</p> Component Typical Value Optimization Target DSO 35 days 30 days (-$68M cash) DPO 28 days 35 days (+$80M cash) DIO 25 days 22 days (+$35M cash)"},{"location":"notebooks/06-working-capital/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook demonstrates working capital analytics, late payment prediction, and optimization strategies.</p>"},{"location":"notebooks/06-working-capital/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>Working capital metrics (DSO, DPO, DIO, CCC)</li> <li>Receivables aging analysis and risk assessment</li> <li>Late payment prediction with Random Forest</li> <li>Early payment discount optimization</li> <li>Working capital forecasting</li> </ol>"},{"location":"notebooks/06-working-capital/#data-design","title":"Data Design","text":""},{"location":"notebooks/06-working-capital/#simulated-datasets","title":"Simulated Datasets","text":"<pre><code># Custom generators in the notebook\nreceivables = generate_receivables(n_invoices=500, seed=42)\npayables = generate_payables(n_invoices=400, seed=42)\n</code></pre>"},{"location":"notebooks/06-working-capital/#receivables-structure","title":"Receivables Structure","text":"Column Type Description invoice_id string Unique identifier customer string Customer name credit_rating string AAA, AA, BBB, BB, B invoice_date datetime Issue date amount float Invoice amount payment_terms int Days (15, 30, 45, 60) due_date datetime Payment due date status string OPEN, PAID, OVERDUE days_late int Days past due (if paid)"},{"location":"notebooks/06-working-capital/#customer-profiles","title":"Customer Profiles","text":"Customer Type Rating Late Prob Typical Amount Major oil companies AAA 2% $1-20M Regional traders AA 4% $0.5-5M Local distributors BBB 10% $100K-2M Small dealers BB/B 15-20% $10K-500K"},{"location":"notebooks/06-working-capital/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/06-working-capital/#step-1-working-capital-metrics","title":"Step 1: Working Capital Metrics","text":"<pre><code>def calculate_wc_metrics(receivables, payables):\n    \"\"\"\n    Calculate key working capital KPIs.\n    \"\"\"\n    # Days Sales Outstanding\n    total_ar = receivables[receivables['status'] != 'PAID']['amount'].sum()\n    dso = (total_ar / annual_revenue) * 365\n\n    # Days Payable Outstanding\n    total_ap = payables[payables['status'] != 'PAID']['amount'].sum()\n    dpo = (total_ap / annual_cogs) * 365\n\n    # Days Inventory Outstanding\n    dio = (inventory_value / annual_cogs) * 365\n\n    # Cash Conversion Cycle\n    ccc = dso + dio - dpo\n\n    return {'DSO': dso, 'DPO': dpo, 'DIO': dio, 'CCC': ccc}\n</code></pre> <p>Metric Interpretation:</p> Metric Formula Good Value DSO (AR / Revenue) \u00d7 365 &lt; 30 days DPO (AP / COGS) \u00d7 365 &gt; 30 days DIO (Inventory / COGS) \u00d7 365 &lt; 25 days CCC DSO + DIO - DPO &lt; 30 days"},{"location":"notebooks/06-working-capital/#step-2-receivables-aging","title":"Step 2: Receivables Aging","text":"<pre><code>def get_aging_bucket(invoice):\n    days_outstanding = (today - invoice['invoice_date']).days\n\n    if days_outstanding &lt;= 30:\n        return '0-30'\n    elif days_outstanding &lt;= 60:\n        return '31-60'\n    elif days_outstanding &lt;= 90:\n        return '61-90'\n    else:\n        return '90+'\n</code></pre> <p>Aging Risk Assessment:</p> Bucket Risk Level Collection Action 0-30 Low Standard process 31-60 Medium Reminder calls 61-90 High Collection team 90+ Very High Legal/write-off review"},{"location":"notebooks/06-working-capital/#step-3-late-payment-prediction","title":"Step 3: Late Payment Prediction","text":"<pre><code>from sklearn.ensemble import RandomForestClassifier\n\n# Features\nfeatures = [\n    'amount_log',      # Invoice size\n    'payment_terms',   # Contract terms\n    'rating_numeric',  # Credit rating\n    'month',           # Seasonality\n    'is_month_end'     # Timing\n]\n\n# Train model\nmodel = RandomForestClassifier(n_estimators=100, random_state=42)\nmodel.fit(X_train, y_train)\n\n# Predict probability of late payment\nlate_probability = model.predict_proba(X_new)[:, 1]\n</code></pre> <p>Model Performance:</p> Metric Value Accuracy 78% Precision 72% Recall 85% AUC-ROC 0.82"},{"location":"notebooks/06-working-capital/#step-4-early-payment-discount-analysis","title":"Step 4: Early Payment Discount Analysis","text":"<pre><code>def calculate_discount_apr(discount_pct, discount_days, payment_terms):\n    \"\"\"\n    Calculate APR equivalent of early payment discount.\n\n    Example: 2/10 net 30 (2% discount if paid in 10 days)\n    APR = (2 / 98) \u00d7 (365 / 20) = 37.2%\n    \"\"\"\n    days_saved = payment_terms - discount_days\n    apr = (discount_pct / (100 - discount_pct)) * (365 / days_saved) * 100\n    return apr\n</code></pre> <p>Decision Rule:</p> <pre><code>If Discount APR &gt; Cost of Capital \u2192 Take discount\nIf Discount APR &lt; Cost of Capital \u2192 Pay at due date\n</code></pre> Discount Terms APR Equivalent Decision (8% CoC) 2/10 net 30 37.2% Take discount 1/10 net 30 18.4% Take discount 1/10 net 60 7.3% Pay at due date"},{"location":"notebooks/06-working-capital/#key-results","title":"Key Results","text":""},{"location":"notebooks/06-working-capital/#working-capital-snapshot","title":"Working Capital Snapshot","text":"Metric Current Target Gap DSO 35 days 30 days 5 days DPO 28 days 35 days 7 days DIO 26 days 22 days 4 days CCC 33 days 17 days 16 days"},{"location":"notebooks/06-working-capital/#collection-optimization","title":"Collection Optimization","text":"Customer Segment Current DSO With ML Targeting Improvement AAA/AA 28 days 27 days 1 day BBB 38 days 33 days 5 days BB/B 52 days 42 days 10 days"},{"location":"notebooks/06-working-capital/#discount-capture","title":"Discount Capture","text":"Current State Optimized 20% discounts captured 80% captured $100K annual savings $500K savings"},{"location":"notebooks/06-working-capital/#thinking-traces","title":"Thinking Traces","text":"<p>Why Random Forest for late payment prediction?</p> <p>Random Forest handles mixed data types (numeric amounts, categorical ratings) well, provides feature importance for interpretability, and is robust to outliers. The ensemble approach reduces overfitting compared to single decision trees.</p> <p>Why is credit rating the top predictor?</p> <p>Credit ratings encode historical payment behavior and financial health. A BBB-rated company has inherently different payment patterns than AAA. The model learns to weight this heavily, which aligns with business intuition.</p> <p>Why focus on BB/B customers for collection?</p> <p>The ML model shows these segments have the highest late payment probability (15-20%). Targeting collection efforts here has the highest ROI. AAA customers rarely pay late, so efforts there are wasted.</p>"},{"location":"notebooks/06-working-capital/#executive-dashboard","title":"Executive Dashboard","text":"<p>The notebook includes a working capital dashboard:</p> <ul> <li>Cash Conversion Cycle waterfall (DSO + DIO - DPO)</li> <li>AR aging distribution (pie chart by bucket)</li> <li>Collection performance by rating (bar chart)</li> <li>Net Working Capital gauge (vs target)</li> <li>Payables by category (supplier mix)</li> <li>DSO trend (line chart with target)</li> </ul>"},{"location":"notebooks/06-working-capital/#business-application","title":"Business Application","text":""},{"location":"notebooks/06-working-capital/#collection-prioritization","title":"Collection Prioritization","text":"<pre><code>High Priority (Contact this week):\n\u251c\u2500\u2500 High late probability (&gt;60%)\n\u251c\u2500\u2500 Large amount (&gt;$500K)\n\u2514\u2500\u2500 Approaching due date (&lt;7 days)\n\nMedium Priority (Monitor):\n\u251c\u2500\u2500 Medium probability (30-60%)\n\u2514\u2500\u2500 Standard amounts\n\nLow Priority (Auto-process):\n\u251c\u2500\u2500 Low probability (&lt;30%)\n\u2514\u2500\u2500 AAA/AA customers\n</code></pre>"},{"location":"notebooks/06-working-capital/#working-capital-levers","title":"Working Capital Levers","text":"Lever Action Impact Reduce DSO Earlier invoicing, faster collection \u2193 Cash tied in AR Increase DPO Negotiate longer terms \u2191 Free cash Reduce DIO JIT inventory, demand forecasting \u2193 Cash tied in inventory Capture discounts Pay early when APR &gt; CoC \u2193 Total cost"},{"location":"notebooks/06-working-capital/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 01 Cash Flow Forecasting for liquidity planning</li> <li>\u2192 07 Treasury Copilot for self-service analytics</li> </ol>"},{"location":"notebooks/06-working-capital/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/06_working_capital.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/07-treasury-copilot/","title":"07 Treasury Copilot","text":""},{"location":"notebooks/07-treasury-copilot/#07-treasury-copilot-rag-llm","title":"07 - Treasury Copilot (RAG + LLM)","text":""},{"location":"notebooks/07-treasury-copilot/#business-context","title":"Business Context","text":"<p>Treasury teams spend significant time on:</p> <ul> <li>Ad-hoc queries: \"What's our USD exposure this month?\"</li> <li>Policy lookups: \"What's our hedge ratio requirement?\"</li> <li>Report generation: Manual data pulling and formatting</li> <li>Stakeholder requests: Answering the same questions repeatedly</li> </ul> <p>The Vision</p> <p>A Treasury Copilot that can:</p> <ul> <li>Answer natural language questions about treasury data</li> <li>Retrieve and explain treasury policies</li> <li>Generate standard reports on demand</li> <li>Provide 24/7 self-service analytics</li> </ul>"},{"location":"notebooks/07-treasury-copilot/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook demonstrates building a Treasury Copilot using Retrieval-Augmented Generation (RAG) architecture.</p>"},{"location":"notebooks/07-treasury-copilot/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>RAG architecture for enterprise assistants</li> <li>Policy document retrieval with embeddings</li> <li>Intent classification for query routing</li> <li>Treasury function integration (cash, FX, forecasts)</li> <li>Conversational interface design</li> </ol>"},{"location":"notebooks/07-treasury-copilot/#system-architecture","title":"System Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     Treasury Copilot                        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u2502\n\u2502  \u2502   User      \u2502\u2500\u2500\u2500\u25b6\u2502   Intent    \u2502\u2500\u2500\u2500\u25b6\u2502   Router    \u2502     \u2502\n\u2502  \u2502   Query     \u2502    \u2502   Classifier\u2502    \u2502             \u2502     \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2502\n\u2502                                               \u2502             \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502         \u25bc                 \u25bc                 \u25bc         \u25bc    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2502\n\u2502  \u2502   Policy    \u2502   \u2502   Data      \u2502   \u2502   Forecast  \u2502 ...  \u2502\n\u2502  \u2502   RAG       \u2502   \u2502   Query     \u2502   \u2502   Engine    \u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2502\n\u2502         \u2502                 \u2502                 \u2502              \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2502\n\u2502                           \u2502                                \u2502\n\u2502                           \u25bc                                \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                         \u2502\n\u2502                    \u2502   Response  \u2502                         \u2502\n\u2502                    \u2502   Generator \u2502                         \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                         \u2502\n\u2502                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/07-treasury-copilot/#step-1-policy-document-store","title":"Step 1: Policy Document Store","text":"<p>Create a knowledge base of treasury policies:</p> <pre><code>POLICY_DOCUMENTS = {\n    'fx_hedging_policy': \"\"\"\n    FX HEDGING POLICY\n    =================\n    1. All USD exposures exceeding $1M must be hedged within 5 business days\n    2. Minimum hedge ratio: 75% for confirmed exposures\n    3. Approved instruments: Forwards, Options (vanilla only)\n    4. Maximum tenor: 12 months\n    5. Counterparty limit: $50M per bank\n    \"\"\",\n\n    'cash_management_policy': \"\"\"\n    CASH MANAGEMENT POLICY\n    ======================\n    1. Minimum cash buffer: 30 days of operating expenses\n    2. Excess cash investment: Money market funds (AAA only)\n    3. Intercompany loans require Treasury approval\n    4. Daily cash position reporting required\n    \"\"\",\n    # ... more policies\n}\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#step-2-rag-implementation","title":"Step 2: RAG Implementation","text":"<pre><code>class PolicyRAG:\n    \"\"\"\n    Retrieval-Augmented Generation for treasury policies.\n    Uses TF-IDF for demonstration (production: use embeddings).\n    \"\"\"\n\n    def __init__(self, documents):\n        self.documents = documents\n        self.vectorizer = TfidfVectorizer()\n        self.vectors = self.vectorizer.fit_transform(documents.values())\n\n    def retrieve(self, query, top_k=2):\n        \"\"\"Find most relevant policy documents.\"\"\"\n        query_vector = self.vectorizer.transform([query])\n        similarities = cosine_similarity(query_vector, self.vectors)[0]\n\n        top_indices = similarities.argsort()[-top_k:][::-1]\n        results = []\n\n        for idx in top_indices:\n            doc_name = list(self.documents.keys())[idx]\n            results.append({\n                'document': doc_name,\n                'content': self.documents[doc_name],\n                'similarity': similarities[idx]\n            })\n\n        return results\n\n    def answer(self, query):\n        \"\"\"Generate answer using retrieved context.\"\"\"\n        relevant_docs = self.retrieve(query)\n        context = \"\\n\\n\".join([d['content'] for d in relevant_docs])\n\n        # In production: Send to LLM with context\n        # For demo: Simple keyword-based response\n        return self._generate_response(query, context)\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#step-3-intent-classification","title":"Step 3: Intent Classification","text":"<p>Route queries to appropriate handlers:</p> <pre><code>INTENT_PATTERNS = {\n    'cash_position': ['cash', 'balance', 'liquidity', 'position'],\n    'fx_rate': ['fx', 'exchange', 'usd', 'eur', 'currency'],\n    'forecast': ['forecast', 'predict', 'projection', 'outlook'],\n    'policy': ['policy', 'rule', 'guideline', 'requirement'],\n    'hedge': ['hedge', 'hedging', 'forward', 'option']\n}\n\ndef classify_intent(query):\n    \"\"\"Classify user query intent.\"\"\"\n    query_lower = query.lower()\n\n    scores = {}\n    for intent, keywords in INTENT_PATTERNS.items():\n        score = sum(1 for kw in keywords if kw in query_lower)\n        scores[intent] = score\n\n    if max(scores.values()) == 0:\n        return 'general'\n\n    return max(scores, key=scores.get)\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#step-4-treasury-functions","title":"Step 4: Treasury Functions","text":"<p>Integrate with treasury data:</p> <pre><code>class TreasuryFunctions:\n    \"\"\"Treasury data access functions for the copilot.\"\"\"\n\n    def get_cash_position(self, currency=None):\n        \"\"\"Get current cash position by currency.\"\"\"\n        position = generate_bank_accounts()\n\n        if currency:\n            position = position[position['currency'] == currency]\n\n        return {\n            'total': position['balance'].sum(),\n            'by_currency': position.groupby('currency')['balance'].sum().to_dict()\n        }\n\n    def get_fx_rate(self, pair):\n        \"\"\"Get latest FX rate for a currency pair.\"\"\"\n        rates = generate_fx_rates(days=1)\n        rate = rates[rates['currency_pair'] == pair]['mid'].iloc[-1]\n        return {'pair': pair, 'rate': rate}\n\n    def get_forecast(self, horizon_days=30):\n        \"\"\"Get cash flow forecast.\"\"\"\n        # Would integrate with forecasting model\n        return {\n            'horizon': horizon_days,\n            'expected_inflows': 150_000_000,\n            'expected_outflows': 140_000_000,\n            'net_position': 10_000_000\n        }\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#step-5-copilot-class","title":"Step 5: Copilot Class","text":"<p>Bring it all together:</p> <pre><code>class TreasuryCopilot:\n    \"\"\"\n    AI-powered Treasury Assistant.\n    \"\"\"\n\n    def __init__(self):\n        self.rag = PolicyRAG(POLICY_DOCUMENTS)\n        self.functions = TreasuryFunctions()\n        self.conversation_history = []\n\n    def chat(self, user_message):\n        \"\"\"Process user message and generate response.\"\"\"\n        # Classify intent\n        intent = classify_intent(user_message)\n\n        # Route to appropriate handler\n        if intent == 'policy':\n            response = self.rag.answer(user_message)\n        elif intent == 'cash_position':\n            data = self.functions.get_cash_position()\n            response = f\"Current cash position: ${data['total']:,.0f}\"\n        elif intent == 'fx_rate':\n            pair = self._extract_currency_pair(user_message)\n            data = self.functions.get_fx_rate(pair)\n            response = f\"{pair} rate: {data['rate']:.4f}\"\n        # ... more handlers\n\n        self.conversation_history.append({\n            'user': user_message,\n            'assistant': response,\n            'intent': intent\n        })\n\n        return response\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#demo-conversations","title":"Demo Conversations","text":""},{"location":"notebooks/07-treasury-copilot/#policy-query","title":"Policy Query","text":"<pre><code>User: What is our minimum hedge ratio requirement?\n\nCopilot: According to our FX Hedging Policy, the minimum hedge\nratio is 75% for confirmed exposures. Additionally, all USD\nexposures exceeding $1M must be hedged within 5 business days.\n\nSource: fx_hedging_policy (similarity: 0.89)\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#data-query","title":"Data Query","text":"<pre><code>User: What is our current cash position?\n\nCopilot: Current Cash Position Summary:\n- Total: $245,000,000\n- USD: $120,000,000\n- TRY: $80,000,000\n- EUR: $45,000,000\n\nNote: Position as of 2024-12-15 09:00 UTC\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#forecast-query","title":"Forecast Query","text":"<pre><code>User: What's the 30-day cash flow forecast?\n\nCopilot: 30-Day Cash Flow Forecast:\n- Expected Inflows: $150,000,000\n- Expected Outflows: $140,000,000\n- Net Position: +$10,000,000\n\nKey drivers:\n- Crude payment due Dec 28: -$45M\n- Product receivables: +$60M\n- Q4 tax payment: -$25M\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#key-results","title":"Key Results","text":""},{"location":"notebooks/07-treasury-copilot/#query-routing-accuracy","title":"Query Routing Accuracy","text":"Intent Precision Recall cash_position 95% 92% fx_rate 92% 94% policy 88% 85% forecast 90% 88% Average 91% 90%"},{"location":"notebooks/07-treasury-copilot/#user-satisfaction","title":"User Satisfaction","text":"Metric Before Copilot With Copilot Query resolution time 15 minutes 30 seconds Self-service rate 20% 75% Treasury team queries 50/day 15/day"},{"location":"notebooks/07-treasury-copilot/#thinking-traces","title":"Thinking Traces","text":"<p>Why RAG over fine-tuning?</p> <p>Treasury policies change frequently (quarterly reviews). RAG allows updating the knowledge base without retraining the model. Fine-tuning would require expensive retraining every time a policy changes.</p> <p>Why TF-IDF instead of embeddings?</p> <p>For this demonstration, TF-IDF is simpler and doesn't require API calls. In production, you would use embeddings (OpenAI, Azure, or local models) for better semantic understanding.</p> <p>Why intent classification before RAG?</p> <p>Not all queries need document retrieval. \"What's our cash position?\" is a data query, not a policy query. Routing improves response accuracy and reduces unnecessary RAG calls.</p>"},{"location":"notebooks/07-treasury-copilot/#production-considerations","title":"Production Considerations","text":""},{"location":"notebooks/07-treasury-copilot/#technology-stack","title":"Technology Stack","text":"Component Demo Production Embeddings TF-IDF Azure OpenAI Vector Store In-memory Pinecone/Weaviate LLM Rule-based GPT-4/Claude Data Access Simulated ERP/TMS APIs"},{"location":"notebooks/07-treasury-copilot/#security-requirements","title":"Security Requirements","text":"<ul> <li>Authentication: Azure AD / SSO integration</li> <li>Authorization: Role-based access to data functions</li> <li>Audit logging: All queries logged for compliance</li> <li>Data masking: PII and sensitive amounts protected</li> </ul>"},{"location":"notebooks/07-treasury-copilot/#guardrails","title":"Guardrails","text":"<pre><code>GUARDRAILS = {\n    'max_amount_display': 100_000_000,  # Mask larger amounts\n    'allowed_actions': ['read'],         # No write operations\n    'sensitive_topics': ['salary', 'bonus', 'personal'],\n    'escalation_triggers': ['approve', 'execute', 'transfer']\n}\n</code></pre>"},{"location":"notebooks/07-treasury-copilot/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 08 Compliance for automated regulatory reporting</li> <li>\u2192 01 Cash Flow Forecasting to improve forecast quality</li> </ol>"},{"location":"notebooks/07-treasury-copilot/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/07_treasury_copilot.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/08-compliance/","title":"08 Compliance (TAS 29)","text":""},{"location":"notebooks/08-compliance/#08-tas-29-compliance-automation","title":"08 - TAS 29 Compliance Automation","text":""},{"location":"notebooks/08-compliance/#business-context","title":"Business Context","text":"<p>Turkish companies must apply TAS 29 (Turkish Accounting Standard 29, equivalent to IAS 29) for hyperinflation accounting when:</p> <ul> <li>3-year cumulative inflation exceeds 100%</li> <li>People prefer holding non-monetary assets</li> <li>Prices are quoted in stable foreign currencies</li> </ul> <p>Turkey's Situation</p> <p>Turkey has been classified as a hyperinflationary economy since 2022, requiring all financial statements to be restated in current purchasing power.</p> <p>The Challenge:</p> Manual Process Issue Item classification Thousands of line items to classify Index application Different dates require different indices Calculations Error-prone manual spreadsheets Audit trail Difficult to maintain"},{"location":"notebooks/08-compliance/#notebook-overview","title":"Notebook Overview","text":"<p>This notebook demonstrates automating TAS 29 compliance using ML classification and rules-based calculations.</p>"},{"location":"notebooks/08-compliance/#what-youll-learn","title":"What You'll Learn","text":"<ol> <li>TAS 29 fundamentals and requirements</li> <li>Monetary vs non-monetary classification with ML</li> <li>Restatement calculations implementation</li> <li>Validation and anomaly detection</li> <li>Compliance dashboard and reporting</li> </ol>"},{"location":"notebooks/08-compliance/#tas-29-fundamentals","title":"TAS 29 Fundamentals","text":""},{"location":"notebooks/08-compliance/#monetary-vs-non-monetary-items","title":"Monetary vs Non-Monetary Items","text":"Monetary (NOT restated) Non-Monetary (Restated) Cash and bank balances Property, Plant &amp; Equipment Accounts receivable Intangible assets Accounts payable Inventory (at acquisition) Loans and borrowings Prepaid expenses Deferred tax liabilities Share capital Retained earnings"},{"location":"notebooks/08-compliance/#restatement-formula","title":"Restatement Formula","text":"<pre><code>Restated Amount = Historical Amount \u00d7 (CPI_current / CPI_acquisition)\n</code></pre> <p>Example:</p> <ul> <li>Machine purchased Jan 2021: TRY 10,000,000</li> <li>CPI January 2021: 500</li> <li>CPI December 2024: 1,800</li> <li>Restated = 10,000,000 \u00d7 (1,800/500) = TRY 36,000,000</li> </ul>"},{"location":"notebooks/08-compliance/#monetary-gainloss","title":"Monetary Gain/Loss","text":"<p>Holding monetary items during hyperinflation creates purchasing power gain/loss:</p> <ul> <li>Holding monetary assets (cash, receivables) \u2192 Loss (purchasing power decreases)</li> <li>Holding monetary liabilities (payables, debt) \u2192 Gain (repay with cheaper money)</li> </ul> <pre><code>Net Monetary Position \u00d7 Inflation Rate = Monetary Gain/(Loss)\n</code></pre>"},{"location":"notebooks/08-compliance/#data-design","title":"Data Design","text":""},{"location":"notebooks/08-compliance/#cpi-data-generation","title":"CPI Data Generation","text":"<pre><code>def generate_cpi_data():\n    \"\"\"Generate realistic Turkish CPI data.\"\"\"\n    dates = pd.date_range('2020-01-01', '2024-12-01', freq='MS')\n\n    # Turkish inflation trajectory\n    # 2020: ~15% | 2021: ~25% | 2022: ~65% | 2023: ~50% | 2024: ~40%\n\n    monthly_rates = []\n    for date in dates:\n        if date.year == 2020:\n            rate = np.random.uniform(0.008, 0.015)\n        elif date.year == 2021:\n            rate = np.random.uniform(0.012, 0.025)\n        elif date.year == 2022:\n            rate = np.random.uniform(0.03, 0.08)\n        elif date.year == 2023:\n            rate = np.random.uniform(0.025, 0.05)\n        else:\n            rate = np.random.uniform(0.02, 0.04)\n        monthly_rates.append(rate)\n\n    # Calculate cumulative index\n    indices = [450]  # Base: Jan 2020\n    for rate in monthly_rates[:-1]:\n        indices.append(indices[-1] * (1 + rate))\n\n    return pd.DataFrame({\n        'date': dates,\n        'cpi_index': indices,\n        'monthly_change': monthly_rates\n    })\n</code></pre>"},{"location":"notebooks/08-compliance/#balance-sheet-items","title":"Balance Sheet Items","text":"<pre><code>def generate_balance_sheet_items(n_items=100):\n    \"\"\"Generate balance sheet items with acquisition dates.\"\"\"\n\n    non_monetary = [\n        ('Land', 'PPE'),\n        ('Buildings', 'PPE'),\n        ('Machinery', 'PPE'),\n        ('Software', 'Intangible'),\n        ('Inventory', 'Inventory'),\n        ('Prepaid Rent', 'Prepaid')\n    ]\n\n    monetary = [\n        ('Cash TRY', 'Cash'),\n        ('Trade Receivables', 'Receivable'),\n        ('Trade Payables', 'Payable'),\n        ('Bank Loans', 'Debt')\n    ]\n\n    # Generate items with random acquisition dates\n    # ...\n</code></pre>"},{"location":"notebooks/08-compliance/#approach-methodology","title":"Approach &amp; Methodology","text":""},{"location":"notebooks/08-compliance/#step-1-ml-based-classification","title":"Step 1: ML-Based Classification","text":"<pre><code>from sklearn.ensemble import RandomForestClassifier\nfrom sklearn.feature_extraction.text import TfidfVectorizer\n\n# Text features from account name\nvectorizer = TfidfVectorizer(max_features=20)\ntext_features = vectorizer.fit_transform(items['item_name'])\n\n# Category encoding\ncategory_encoded = LabelEncoder().fit_transform(items['category'])\n\n# Combine features\nX = np.hstack([text_features.toarray(), category_encoded.reshape(-1, 1)])\ny = items['is_monetary']\n\n# Train classifier\nmodel = RandomForestClassifier(n_estimators=50, random_state=42)\nmodel.fit(X_train, y_train)\n</code></pre> <p>Classification Performance:</p> Metric Value Accuracy 94% Precision 92% Recall 95%"},{"location":"notebooks/08-compliance/#step-2-restatement-calculator","title":"Step 2: Restatement Calculator","text":"<pre><code>class TAS29Calculator:\n    \"\"\"TAS 29 restatement calculator.\"\"\"\n\n    def __init__(self, cpi_data):\n        self.cpi = cpi_data.set_index('date')['cpi_index']\n        self.current_cpi = cpi_data['cpi_index'].iloc[-1]\n\n    def get_cpi_at_date(self, date):\n        \"\"\"Get CPI index for acquisition date.\"\"\"\n        month_start = date.replace(day=1)\n        return self.cpi.get(month_start, self.cpi.iloc[-1])\n\n    def calculate_restatement_factor(self, acquisition_date):\n        \"\"\"Calculate restatement multiplier.\"\"\"\n        cpi_acquisition = self.get_cpi_at_date(acquisition_date)\n        return self.current_cpi / cpi_acquisition\n\n    def restate_item(self, item):\n        \"\"\"Restate a single balance sheet item.\"\"\"\n        if item['is_monetary']:\n            return {\n                **item,\n                'restated_amount': item['historical_amount'],\n                'restatement_factor': 1.0,\n                'restatement_gain_loss': 0\n            }\n        else:\n            factor = self.calculate_restatement_factor(item['acquisition_date'])\n            restated = item['historical_amount'] * factor\n            return {\n                **item,\n                'restated_amount': restated,\n                'restatement_factor': factor,\n                'restatement_gain_loss': restated - item['historical_amount']\n            }\n</code></pre>"},{"location":"notebooks/08-compliance/#step-3-anomaly-detection","title":"Step 3: Anomaly Detection","text":"<pre><code>def detect_restatement_anomalies(restated_df):\n    \"\"\"Detect potential errors in TAS 29 calculations.\"\"\"\n    anomalies = []\n\n    for _, row in restated_df.iterrows():\n        # High restatement factor\n        if not row['is_monetary'] and row['restatement_factor'] &gt; 5:\n            anomalies.append({\n                'item_id': row['item_id'],\n                'type': 'HIGH_FACTOR',\n                'severity': 'WARNING',\n                'message': f\"Factor {row['restatement_factor']:.2f} unusually high\"\n            })\n\n        # Classification check\n        cash_keywords = ['cash', 'bank', 'receivable', 'payable']\n        if any(kw in row['item_name'].lower() for kw in cash_keywords):\n            if not row['is_monetary']:\n                anomalies.append({\n                    'item_id': row['item_id'],\n                    'type': 'CLASSIFICATION',\n                    'severity': 'HIGH',\n                    'message': \"Item name suggests monetary but classified non-monetary\"\n                })\n\n    return pd.DataFrame(anomalies)\n</code></pre>"},{"location":"notebooks/08-compliance/#step-4-report-generation","title":"Step 4: Report Generation","text":"<pre><code>def generate_tas29_report(restated_df, monetary_result, cpi_data):\n    \"\"\"Generate TAS 29 compliance report.\"\"\"\n\n    report = f\"\"\"\n    ======================================================\n    TAS 29 HYPERINFLATION ACCOUNTING REPORT\n    Report Date: {datetime.now().strftime('%Y-%m-%d')}\n    ======================================================\n\n    1. INFLATION CONTEXT\n    - Annual Inflation: {cpi_data['annual_inflation'].iloc[-1]:.1f}%\n    - 3-Year Cumulative: {cpi_data['cumulative_3yr'].iloc[-1]:.1f}%\n    - Status: HYPERINFLATION ACTIVE\n\n    2. RESTATEMENT SUMMARY\n    - Items Restated: {len(restated_df[~restated_df['is_monetary']])}\n    - Historical Total: TRY {restated_df['historical_amount'].sum()/1e6:,.1f}M\n    - Restated Total: TRY {restated_df['restated_amount'].sum()/1e6:,.1f}M\n    - Restatement Effect: TRY {restated_df['restatement_gain_loss'].sum()/1e6:,.1f}M\n\n    3. MONETARY GAIN/(LOSS)\n    - Net Monetary Position: TRY {monetary_result['net_position']/1e6:,.1f}M\n    - Purchasing Power Effect: TRY {monetary_result['gain_loss']/1e6:,.1f}M\n\n    4. REQUIRED DISCLOSURES\n    [ ] Statement that TAS 29 applied\n    [ ] General price index used (TUIK CPI)\n    [ ] Current and prior period index values\n    [ ] Net monetary gain/loss in P&amp;L\n    \"\"\"\n    return report\n</code></pre>"},{"location":"notebooks/08-compliance/#key-results","title":"Key Results","text":""},{"location":"notebooks/08-compliance/#restatement-impact","title":"Restatement Impact","text":"Category Historical Restated Factor PPE TRY 250M TRY 625M 2.5x Intangibles TRY 50M TRY 110M 2.2x Inventory TRY 80M TRY 96M 1.2x Total Non-Monetary TRY 380M TRY 831M 2.2x"},{"location":"notebooks/08-compliance/#monetary-gainloss_1","title":"Monetary Gain/Loss","text":"Component Amount Net monetary position TRY (150M) Inflation rate 45% Monetary gain TRY 67.5M <p>Negative monetary position (more liabilities than assets) creates gain during inflation</p>"},{"location":"notebooks/08-compliance/#automation-benefits","title":"Automation Benefits","text":"Metric Manual Automated Improvement Processing time 5-7 days 1-2 hours 95% Error rate 5-10% &lt;1% 90% Audit queries 15-20 2-3 85% Staff required 3 FTE 0.5 FTE 83%"},{"location":"notebooks/08-compliance/#thinking-traces","title":"Thinking Traces","text":"<p>Why ML for classification?</p> <p>Manual classification of thousands of accounts is tedious and error-prone. ML learns patterns from account names and categories, achieving 94% accuracy. Human review focuses only on edge cases and anomalies.</p> <p>Why flag high restatement factors?</p> <p>A factor of 5x means the item was acquired when CPI was 1/5 of current level. While possible for old assets, it could also indicate incorrect acquisition dates. Flagging ensures human review.</p> <p>Why generate structured reports?</p> <p>TAS 29 has specific disclosure requirements. Automated report generation ensures all required elements are included and formatted consistently for auditors.</p>"},{"location":"notebooks/08-compliance/#executive-dashboard","title":"Executive Dashboard","text":"<p>The notebook includes a compliance dashboard:</p> <ul> <li>Inflation trend (line chart with threshold)</li> <li>Classification distribution (pie chart)</li> <li>Restatement impact by category (bar chart)</li> <li>Restatement factor distribution (histogram)</li> <li>Anomaly summary (bar chart by severity)</li> <li>Compliance checklist (table)</li> </ul>"},{"location":"notebooks/08-compliance/#ifrs-29-ias-29-context","title":"IFRS 29 / IAS 29 Context","text":"<p>TAS 29 is the Turkish translation of IAS 29. Key requirements:</p> <ol> <li>Restate all non-monetary items using general price index</li> <li>Do not restate monetary items (already in current purchasing power)</li> <li>Calculate net monetary gain/loss and include in P&amp;L</li> <li>Restate comparatives to current period purchasing power</li> <li>Disclose index used, index values, and methodology</li> </ol>"},{"location":"notebooks/08-compliance/#countries-currently-applying-ias-29","title":"Countries Currently Applying IAS 29","text":"Country Year Applied 3-Year Inflation Turkey 2022 &gt;200% Argentina 2018 &gt;300% Venezuela 2009 &gt;10,000% Zimbabwe 2019 &gt;800%"},{"location":"notebooks/08-compliance/#next-steps","title":"Next Steps","text":"<p>After mastering this notebook:</p> <ol> <li>\u2192 01 Cash Flow Forecasting for inflation-adjusted forecasts</li> <li>\u2192 03 FX Risk Management for currency considerations</li> </ol>"},{"location":"notebooks/08-compliance/#code-access","title":"Code Access","text":"<p>\ud83d\udcd3 Notebook: <code>notebooks/08_compliance.ipynb</code></p> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"notebooks/data-generators/","title":"Data Generators","text":""},{"location":"notebooks/data-generators/#data-simulation-package","title":"Data Simulation Package","text":""},{"location":"notebooks/data-generators/#overview","title":"Overview","text":"<p>The <code>src/treasury_sim/generators.py</code> module provides functions to generate realistic Treasury data for educational and demonstration purposes. All generators produce pandas DataFrames with patterns that mimic real-world financial data.</p>"},{"location":"notebooks/data-generators/#installation","title":"Installation","text":"<p>The generators are included in the project. Import them as:</p> <pre><code>import sys\nsys.path.append('..')  # If running from notebooks/\nfrom src.treasury_sim.generators import (\n    generate_cash_flows,\n    generate_daily_cash_position,\n    generate_fx_rates,\n    generate_fx_exposures,\n    generate_payments,\n    generate_commodity_prices,\n    generate_counterparties,\n    generate_bank_accounts,\n    generate_trade_documents,\n    set_seed\n)\n\n# Set seed for reproducibility\nset_seed(42)\n</code></pre>"},{"location":"notebooks/data-generators/#generator-functions","title":"Generator Functions","text":""},{"location":"notebooks/data-generators/#1-generate_cash_flows","title":"1. <code>generate_cash_flows()</code>","text":"<p>Generates daily cash flow transactions with realistic patterns.</p> <pre><code>cash_flows = generate_cash_flows(\n    days=365,                    # Number of days\n    base_inflow=50_000_000,      # Base daily inflow\n    base_outflow=45_000_000,     # Base daily outflow\n    seed=42                      # Random seed\n)\n</code></pre> <p>Output Columns:</p> Column Type Description date datetime Transaction date category string INFLOW or OUTFLOW subcategory string Revenue type, expense type amount float Transaction amount (positive) entity string Business unit currency string TRY, USD, EUR <p>Patterns Included:</p> <ul> <li>Weekly cycle (lower weekends)</li> <li>Month-end spikes (+40%)</li> <li>Quarterly peaks (+20%)</li> <li>Seasonal variation (summer peak)</li> <li>Random noise (\u00b115%)</li> </ul>"},{"location":"notebooks/data-generators/#2-generate_daily_cash_position","title":"2. <code>generate_daily_cash_position()</code>","text":"<p>Generates daily bank balance positions across multiple accounts.</p> <pre><code>positions = generate_daily_cash_position(\n    days=365,           # Number of days\n    n_accounts=5,       # Number of bank accounts\n    seed=42\n)\n</code></pre> <p>Output Columns:</p> Column Type Description date datetime Position date account_id string Bank account identifier bank string Bank name currency string Account currency opening_balance float Start of day balance closing_balance float End of day balance"},{"location":"notebooks/data-generators/#3-generate_fx_rates","title":"3. <code>generate_fx_rates()</code>","text":"<p>Generates historical FX rate data for currency pairs.</p> <pre><code>fx_rates = generate_fx_rates(\n    days=365,\n    currency_pairs=['USD/TRY', 'EUR/TRY', 'EUR/USD'],\n    seed=42\n)\n</code></pre> <p>Output Columns:</p> Column Type Description timestamp datetime Rate timestamp currency_pair string Currency pair bid float Bid price ask float Ask price mid float Mid price <p>Patterns Included:</p> <ul> <li>TRY depreciation trend (Turkish inflation)</li> <li>Volatility clustering</li> <li>Mean reversion (short-term)</li> <li>Bid-ask spread variation</li> </ul>"},{"location":"notebooks/data-generators/#4-generate_fx_exposures","title":"4. <code>generate_fx_exposures()</code>","text":"<p>Generates open FX exposure positions by entity and currency.</p> <pre><code>exposures = generate_fx_exposures(\n    n_exposures=200,    # Number of positions\n    seed=42\n)\n</code></pre> <p>Output Columns:</p> Column Type Description exposure_id string Unique identifier entity string Business unit currency string Exposure currency exposure_type string RECEIVABLE, PAYABLE, etc. amount_local float Amount in local currency maturity_date datetime Settlement date maturity_bucket string 30D, 60D, 90D, etc. is_hedged bool Hedge status hedge_ratio float Hedge coverage (0-1)"},{"location":"notebooks/data-generators/#5-generate_payments","title":"5. <code>generate_payments()</code>","text":"<p>Generates payment transactions with fraud indicators.</p> <pre><code>payments = generate_payments(\n    days=90,            # Number of days\n    daily_count=50,     # Payments per day\n    anomaly_rate=0.02,  # Fraud rate (2%)\n    seed=42\n)\n</code></pre> <p>Output Columns:</p> Column Type Description payment_id string Unique identifier timestamp datetime Payment time amount float Payment amount currency string Payment currency payment_type string WIRE, ACH, SWIFT beneficiary_id string Recipient ID beneficiary_country string Recipient country is_anomaly bool Fraud label (ground truth) anomaly_type string Type of anomaly <p>Anomaly Types Injected:</p> Type Description Frequency large_amount 10x normal 0.5% unusual_hour Outside business hours 0.5% high_risk_country Sanctioned jurisdictions 0.3% new_beneficiary First-time recipient 0.4% round_amount Exact millions 0.3%"},{"location":"notebooks/data-generators/#6-generate_commodity_prices","title":"6. <code>generate_commodity_prices()</code>","text":"<p>Generates commodity price data for oil and refined products.</p> <pre><code>prices, pivot = generate_commodity_prices(\n    days=730,           # 2 years\n    seed=42\n)\n\n# prices: Long format DataFrame\n# pivot: Wide format with date index\n</code></pre> <p>Commodities:</p> Commodity Unit Base Price Volatility BRENT $/barrel $80 25% annual WTI $/barrel $75 25% annual GASOLINE $/gallon $2.50 20% annual DIESEL $/gallon $3.00 20% annual <p>Patterns:</p> <ul> <li>Mean reversion</li> <li>Seasonality (gasoline summer peak)</li> <li>Brent-WTI spread</li> <li>Crack spread dynamics</li> </ul>"},{"location":"notebooks/data-generators/#7-generate_counterparties","title":"7. <code>generate_counterparties()</code>","text":"<p>Generates counterparty master data with credit ratings.</p> <pre><code>counterparties = generate_counterparties(\n    n_counterparties=50,\n    seed=42\n)\n</code></pre> <p>Output Columns:</p> Column Type Description counterparty_id string Unique identifier name string Company name type string SUPPLIER, CUSTOMER, BANK country string Headquarters country credit_rating string AAA, AA, BBB, etc. credit_limit float Maximum exposure payment_terms int Standard payment days"},{"location":"notebooks/data-generators/#8-generate_bank_accounts","title":"8. <code>generate_bank_accounts()</code>","text":"<p>Generates bank account master data and balances.</p> <pre><code>accounts = generate_bank_accounts(\n    n_accounts=10,\n    seed=42\n)\n</code></pre> <p>Output Columns:</p> Column Type Description account_id string Account identifier bank string Bank name account_type string OPERATING, COLLECTION, etc. currency string Account currency balance float Current balance credit_line float Available credit"},{"location":"notebooks/data-generators/#9-generate_trade_documents","title":"9. <code>generate_trade_documents()</code>","text":"<p>Generates trade finance documents (LCs, invoices, B/Ls).</p> <pre><code>documents = generate_trade_documents(\n    n_transactions=100,  # Number of LC sets\n    seed=42\n)\n</code></pre> <p>Output Columns:</p> Column Type Description document_id string Document identifier transaction_id string LC transaction reference document_type string LC, INVOICE, BILL_OF_LADING, etc. amount float Document amount currency string Document currency goods_description string Goods description quantity float Quantity (if applicable) has_discrepancy bool Discrepancy flag discrepancy_type string Type of discrepancy <p>Document Types:</p> <ul> <li>LC (Letter of Credit)</li> <li>INVOICE (Commercial Invoice)</li> <li>BILL_OF_LADING</li> <li>CERTIFICATE_OF_ORIGIN</li> <li>QUALITY_CERTIFICATE</li> <li>INSURANCE_CERTIFICATE</li> </ul>"},{"location":"notebooks/data-generators/#utility-functions","title":"Utility Functions","text":""},{"location":"notebooks/data-generators/#set_seedseed","title":"<code>set_seed(seed)</code>","text":"<p>Set random seed for reproducibility across all generators.</p> <pre><code>from src.treasury_sim.generators import set_seed\n\nset_seed(42)  # All subsequent calls will be reproducible\n</code></pre>"},{"location":"notebooks/data-generators/#design-principles","title":"Design Principles","text":""},{"location":"notebooks/data-generators/#1-realistic-patterns","title":"1. Realistic Patterns","text":"<p>All generators include business-realistic patterns:</p> <pre><code># Month-end effect in cash flows\nif day_of_month &gt;= 28:\n    amount *= 1.4  # 40% increase\n\n# Credit rating affects payment behavior\nlate_probability = {\n    'AAA': 0.02,\n    'AA': 0.04,\n    'BBB': 0.08,\n    'BB': 0.15,\n    'B': 0.20\n}\n</code></pre>"},{"location":"notebooks/data-generators/#2-configurable-parameters","title":"2. Configurable Parameters","text":"<p>Each generator accepts parameters to customize output:</p> <pre><code># Adjust base values\ncash_flows = generate_cash_flows(\n    base_inflow=100_000_000,  # Larger company\n    base_outflow=95_000_000\n)\n\n# Adjust anomaly rate\npayments = generate_payments(\n    anomaly_rate=0.05  # Higher fraud rate for testing\n)\n</code></pre>"},{"location":"notebooks/data-generators/#3-reproducibility","title":"3. Reproducibility","text":"<p>Use <code>set_seed()</code> for consistent results:</p> <pre><code>set_seed(42)\ndf1 = generate_cash_flows(days=30)\n\nset_seed(42)\ndf2 = generate_cash_flows(days=30)\n\nassert df1.equals(df2)  # Identical outputs\n</code></pre>"},{"location":"notebooks/data-generators/#4-pandas-integration","title":"4. Pandas Integration","text":"<p>All generators return pandas DataFrames for easy analysis:</p> <pre><code>cash_flows = generate_cash_flows(days=365)\n\n# Standard pandas operations work\ndaily = cash_flows.groupby('date')['amount'].sum()\nmonthly = cash_flows.resample('M', on='date')['amount'].sum()\n</code></pre>"},{"location":"notebooks/data-generators/#example-full-data-pipeline","title":"Example: Full Data Pipeline","text":"<pre><code>from src.treasury_sim.generators import *\n\nset_seed(42)\n\n# Generate all required data\ncash_flows = generate_cash_flows(days=365)\nfx_rates = generate_fx_rates(days=365)\nexposures = generate_fx_exposures(n_exposures=200)\npayments = generate_payments(days=90)\ncommodities, _ = generate_commodity_prices(days=730)\ncounterparties = generate_counterparties(n_counterparties=50)\naccounts = generate_bank_accounts(n_accounts=10)\ndocuments = generate_trade_documents(n_transactions=100)\n\nprint(f\"Cash Flows: {len(cash_flows):,} records\")\nprint(f\"FX Rates: {len(fx_rates):,} records\")\nprint(f\"Exposures: {len(exposures):,} positions\")\nprint(f\"Payments: {len(payments):,} transactions\")\nprint(f\"Commodities: {len(commodities):,} prices\")\nprint(f\"Counterparties: {len(counterparties):,} records\")\nprint(f\"Accounts: {len(accounts):,} records\")\nprint(f\"Documents: {len(documents):,} documents\")\n</code></pre>"},{"location":"notebooks/data-generators/#extending-generators","title":"Extending Generators","text":"<p>To add custom patterns, modify the generators in <code>src/treasury_sim/generators.py</code>:</p> <pre><code>def generate_custom_data(days=365, custom_param=1.0, seed=42):\n    \"\"\"\n    Custom data generator template.\n    \"\"\"\n    np.random.seed(seed)\n\n    data = []\n    base_date = datetime(2024, 1, 1)\n\n    for i in range(days):\n        date = base_date + timedelta(days=i)\n\n        # Add your custom logic here\n        value = np.random.normal(100, 10) * custom_param\n\n        data.append({\n            'date': date,\n            'value': value\n        })\n\n    return pd.DataFrame(data)\n</code></pre> <p>Author: Ozgur Guler (ozgur.guler1@gmail.com)</p>"},{"location":"use-cases/","title":"Overview","text":""},{"location":"use-cases/#ai-use-cases-for-oil-gas-treasury","title":"AI Use Cases for Oil &amp; Gas Treasury","text":"<p>Treasury operations in the downstream oil and gas sector face unique challenges: volatile commodity prices, complex multi-currency transactions, massive working capital requirements, and stringent regulatory compliance. AI offers transformative solutions across the entire treasury function.</p>"},{"location":"use-cases/#priority-use-cases","title":"Priority Use Cases","text":"<p>Based on industry research and implementation success rates, these are the highest-impact AI applications for oil &amp; gas treasury:</p> Priority Use Case Impact Complexity 1 Cash Flow Forecasting Very High Medium 2 Fraud Detection &amp; Payment Security Very High Low 3 FX Risk Management High Medium 4 Trade Finance Automation High Medium 5 Commodity Hedging Very High High 6 Working Capital Optimization High Medium 7 Treasury Analytics &amp; AI Assistant Medium Low 8 Regulatory Compliance Medium High"},{"location":"use-cases/#implementation-roadmap","title":"Implementation Roadmap","text":""},{"location":"use-cases/#phase-1-quick-wins-0-6-months","title":"Phase 1: Quick Wins (0-6 months)","text":"<ul> <li>Automated bank reconciliation and cash application</li> <li>Payment fraud detection and anomaly monitoring</li> <li>Basic cash flow forecasting enhancement</li> <li>Treasury reporting automation</li> </ul>"},{"location":"use-cases/#phase-2-core-transformation-6-18-months","title":"Phase 2: Core Transformation (6-18 months)","text":"<ul> <li>Advanced ML-driven cash flow forecasting</li> <li>Trade finance document automation</li> <li>FX exposure forecasting and hedge optimization</li> <li>Working capital analytics</li> </ul>"},{"location":"use-cases/#phase-3-advanced-capabilities-18-36-months","title":"Phase 3: Advanced Capabilities (18-36 months)","text":"<ul> <li>Commodity price forecasting and intelligent hedging</li> <li>Treasury copilot / GenAI assistant</li> <li>Integrated FX-commodity risk optimization</li> <li>Predictive counterparty risk monitoring</li> </ul>"},{"location":"use-cases/#key-benefits","title":"Key Benefits","text":"<ul> <li>50%+ improvement in cash forecast accuracy</li> <li>95% reduction in manual reconciliation tasks</li> <li>Real-time risk monitoring and alerts</li> <li>Faster decisions through AI-powered insights</li> </ul>"},{"location":"use-cases/cash-forecasting/","title":"Cash Flow Forecasting","text":""},{"location":"use-cases/cash-forecasting/#cash-flow-forecasting-liquidity-management","title":"Cash Flow Forecasting &amp; Liquidity Management","text":"<p>Cash flow forecasting is consistently ranked as the #1 AI use case for corporate treasury, with potential to reduce forecast error rates by up to 50% compared to traditional methods.</p>"},{"location":"use-cases/cash-forecasting/#the-challenge","title":"The Challenge","text":"<p>Oil &amp; gas refiners face unique liquidity challenges:</p> <ul> <li>Extreme volatility in crude oil and product prices</li> <li>Large, irregular outflows for crude procurement</li> <li>Multi-currency complexity across global operations</li> <li>Seasonal demand patterns affecting receivables timing</li> <li>Capital-intensive operations requiring precise funding</li> </ul> <p>Traditional forecasting relies on spreadsheets, historical averages, and manual consolidation - methods that fail in volatile markets.</p>"},{"location":"use-cases/cash-forecasting/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/cash-forecasting/#predictive-cash-position","title":"Predictive Cash Position","text":"<p>ML models analyze historical transaction patterns, refinery production schedules, crude shipment timing, and seasonal product demand to predict daily/weekly cash positions with high accuracy.</p> <p>Key Capabilities:</p> <ul> <li>LSTM Neural Networks for time-series forecasting that captures seasonality and long-term patterns</li> <li>Driver-based forecasting using operational data (refinery throughput, shipment schedules)</li> <li>Real-time updates as actuals roll in, with automatic variance analysis</li> <li>External data integration (interest rates, commodity prices, economic indicators)</li> </ul>"},{"location":"use-cases/cash-forecasting/#dynamic-liquidity-optimization","title":"Dynamic Liquidity Optimization","text":"<p>AI algorithms dynamically allocate funds across bank accounts and investment vehicles to ensure optimal liquidity levels while maximizing returns on idle cash.</p>"},{"location":"use-cases/cash-forecasting/#scenario-analysis","title":"Scenario Analysis","text":"<p>AI generates what-if scenarios for:</p> <ul> <li>Crude price shocks (+/- 20%)</li> <li>Demand fluctuations</li> <li>Supply chain disruptions</li> <li>Currency movements</li> <li>Interest rate changes</li> </ul>"},{"location":"use-cases/cash-forecasting/#working-capital-intelligence","title":"Working Capital Intelligence","text":"<p>Predictive models optimize payment timing, identify early payment discount opportunities, and forecast receivables collection patterns across customer segments.</p>"},{"location":"use-cases/cash-forecasting/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement Forecast Accuracy 50%+ improvement Idle Cash Reduction 20-30% Manual Effort 85% reduction Forecast Frequency Daily vs. weekly/monthly"},{"location":"use-cases/cash-forecasting/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Data Foundation - Integrate ERP, bank, and operational data</li> <li>Pilot - Start with one business unit or currency</li> <li>Train Models - Use 2-3 years of historical data</li> <li>Validate - Compare AI forecasts to actuals for 3-6 months</li> <li>Scale - Roll out across all entities</li> </ol>"},{"location":"use-cases/cash-forecasting/#technology-options","title":"Technology Options","text":"<ul> <li>SAP Analytics Cloud - Predictive planning with LSTM models</li> <li>Kyriba TAI - Embedded AI for cash forecasting</li> <li>Trovata - GPT-powered cash analytics</li> <li>Custom ML - Python/Azure ML for tailored solutions</li> </ul>"},{"location":"use-cases/commodity-hedging/","title":"Commodity Hedging","text":""},{"location":"use-cases/commodity-hedging/#commodity-price-risk-management-hedging","title":"Commodity Price Risk Management &amp; Hedging","text":"<p>As a refiner, oil &amp; gas companies face dual commodity exposure - input (crude oil) and output (refined products). AI can transform how treasury manages these correlated risks through sophisticated forecasting and hedge optimization.</p>"},{"location":"use-cases/commodity-hedging/#the-challenge","title":"The Challenge","text":"<p>The refining business faces unique commodity risks:</p> <ul> <li>Crack spread volatility - The differential between crude costs and product revenues</li> <li>Basis risk - Differences between benchmark and actual prices</li> <li>Geopolitical exposure - OPEC decisions, sanctions, conflicts</li> <li>Supply chain complexity - Multiple crude sources with different pricing</li> <li>Margin protection - Maintaining profitability across price cycles</li> </ul> <p>Traditional linear models fail to capture regime changes and non-linear market dynamics.</p>"},{"location":"use-cases/commodity-hedging/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/commodity-hedging/#crude-price-forecasting","title":"Crude Price Forecasting","text":"<p>ML models process vast data streams to forecast short-term crude price movements:</p> <ul> <li>Market data (Brent, WTI, Dubai benchmarks)</li> <li>Geopolitical news via NLP analysis</li> <li>OPEC announcements and production data</li> <li>Global inventory levels</li> <li>Shipping and logistics data</li> <li>Macroeconomic indicators</li> </ul>"},{"location":"use-cases/commodity-hedging/#crack-spread-optimization","title":"Crack Spread Optimization","text":"<p>AI analyzes the relationship between crude inputs and refined product outputs to:</p> <ul> <li>Forecast crack spreads across different product slates</li> <li>Optimize refinery configuration for margin protection</li> <li>Recommend timing for hedge execution</li> <li>Balance protection vs. cost</li> </ul>"},{"location":"use-cases/commodity-hedging/#intelligent-hedge-recommendations","title":"Intelligent Hedge Recommendations","text":"<p>AI recommends optimal hedge strategies based on:</p> <ul> <li>Current exposure analysis</li> <li>Market conditions (contango vs. backwardation)</li> <li>Risk appetite parameters</li> <li>Cost of hedging instruments</li> <li>Historical effectiveness analysis</li> </ul> <p>Output: Specific recommendations on:</p> <ul> <li>Hedge ratio (e.g., 60% of Q2 exposure)</li> <li>Instrument mix (futures, options, swaps)</li> <li>Tenor selection (1-month, 3-month, 6-month)</li> <li>Entry timing</li> </ul>"},{"location":"use-cases/commodity-hedging/#basis-risk-monitoring","title":"Basis Risk Monitoring","text":"<p>Monitor and predict basis differentials between:</p> <ul> <li>Benchmark crudes (Brent, Urals, etc.)</li> <li>Actual supply sources</li> <li>Regional price differences</li> </ul> <p>AI flags anomalies and hedge ineffectiveness before they impact results.</p>"},{"location":"use-cases/commodity-hedging/#sentiment-analysis","title":"Sentiment Analysis","text":"<p>NLP analyzes news, social media, and analyst reports to detect market sentiment shifts that may impact crude prices before traditional indicators.</p>"},{"location":"use-cases/commodity-hedging/#technology-architecture","title":"Technology Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Data Sources                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Market Data \u2502 News/NLP    \u2502 Operations  \u2502 Trading Data  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502             \u2502             \u2502              \u2502\n       \u25bc             \u25bc             \u25bc              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Hybrid AI Model (ARIMA + LSTM)              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u2022 Linear trend/seasonality (ARIMA)                      \u2502\n\u2502  \u2022 Non-linear patterns (LSTM deep learning)              \u2502\n\u2502  \u2022 Wavelet denoising for signal clarity                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Hedge Optimization Engine                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u2022 Reinforcement learning for strategy optimization      \u2502\n\u2502  \u2022 Dynamic hedge ratio calculation                       \u2502\n\u2502  \u2022 Cost-benefit analysis                                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           \u2502\n                           \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Recommendations &amp; Execution                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"use-cases/commodity-hedging/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement Forecast Accuracy (MAPE) 20-40% improvement Hedge Effectiveness 15-25% improvement Transaction Costs Optimized timing reduces costs Risk Visibility Real-time vs. periodic"},{"location":"use-cases/commodity-hedging/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Data Infrastructure - Aggregate market, operational, and trading data</li> <li>Model Development - Build hybrid ARIMA+LSTM models</li> <li>Backtesting - Validate on 5+ years of historical data</li> <li>Paper Trading - Run recommendations in parallel</li> <li>Gradual Automation - Start with alerts, move to assisted execution</li> </ol>"},{"location":"use-cases/commodity-hedging/#technology-options","title":"Technology Options","text":"<ul> <li>Beacon Platform - Cloud-native ETRM with custom AI models</li> <li>Ion Commodities - Pre-trade analytics with AI</li> <li>FIS Energy Trading - Logistics-integrated hedging</li> <li>Custom Python Models - Tailored forecasting on SAP BTP or Azure</li> </ul>"},{"location":"use-cases/compliance/","title":"Regulatory Compliance","text":""},{"location":"use-cases/compliance/#regulatory-compliance-documentation","title":"Regulatory Compliance &amp; Documentation","text":"<p>Treasury faces extensive compliance requirements - from hedge accounting (IFRS 9) and hyperinflation accounting (TAS 29) to sanctions screening and regulatory reporting. AI can automate these documentation-heavy processes.</p>"},{"location":"use-cases/compliance/#the-challenge","title":"The Challenge","text":"<p>Compliance in oil &amp; gas treasury is complex:</p> <ul> <li>Hyperinflation accounting (TAS 29) - Restatement of non-monetary items</li> <li>Hedge accounting (IFRS 9) - Documentation and effectiveness testing</li> <li>Sanctions compliance - Multi-jurisdictional screening requirements</li> <li>Regulatory reporting - EMIR, local capital markets board filings</li> <li>Internal controls - SOX compliance, policy adherence</li> </ul> <p>Manual processes are time-consuming, error-prone, and resource-intensive.</p>"},{"location":"use-cases/compliance/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/compliance/#automated-hyperinflation-accounting-tas-29","title":"Automated Hyperinflation Accounting (TAS 29)","text":"<p>For entities in hyperinflationary economies, AI automates:</p> <p>Data Parsing &amp; Asset Tracking: - Scans General Ledger to classify accounts as monetary vs. non-monetary - Maintains \"shadow ledger\" with acquisition dates for all non-monetary items - Tracks \"vintage\" of every asset for correct indexation</p> <p>Automated Coefficient Application: - Integrates with statistical institutes for real-time CPI data - Calculates specific correction coefficients by asset vintage - Applies restatement automatically</p> <p>Real-Time Net Monetary Position: - Daily calculation of inflation impact (vs. monthly manual process) - Enables proactive balance sheet management - Transforms TAS 29 from compliance burden to strategic tool</p>"},{"location":"use-cases/compliance/#hedge-accounting-automation","title":"Hedge Accounting Automation","text":"<p>AI assists with IFRS 9 hedge accounting:</p> <ul> <li>Documentation generation - Auto-generates hedge designation documents</li> <li>Effectiveness testing - Automated prospective and retrospective testing</li> <li>Journal entries - Prepares accounting entries with explanations</li> <li>Audit support - Maintains complete documentation trail</li> </ul>"},{"location":"use-cases/compliance/#policy-governance-bot","title":"Policy Governance Bot","text":"<p>AI chatbot trained on treasury policies:</p> <ul> <li>Answers policy questions instantly</li> <li>Ensures consistent policy interpretation</li> <li>Reduces reliance on treasury experts for routine questions</li> </ul> <p>Example: \"What's our counterparty limit for Bank X?\" Response: \"Per Treasury Policy Section 4.2, Bank X (rated A+) has a limit of $150M for deposits, currently 65% utilized.\"</p>"},{"location":"use-cases/compliance/#regulatory-report-generation","title":"Regulatory Report Generation","text":"<p>AI automates preparation of:</p> <ul> <li>EMIR trade reporting</li> <li>Local regulatory filings</li> <li>Board and audit committee reports</li> <li>Internal compliance certifications</li> </ul>"},{"location":"use-cases/compliance/#contract-analysis","title":"Contract Analysis","text":"<p>NLP-powered analysis of financial contracts:</p> <ul> <li>Extract key terms from credit agreements</li> <li>Monitor covenant compliance</li> <li>Flag upcoming deadlines and obligations</li> <li>Compare terms across agreements</li> </ul>"},{"location":"use-cases/compliance/#technology-architecture","title":"Technology Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 Compliance AI Platform                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u2502\n\u2502  \u2502 Document Parser  \u2502  \u2502 Policy Knowledge \u2502             \u2502\n\u2502  \u2502   (NLP/OCR)      \u2502  \u2502     Base         \u2502             \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2502\n\u2502           \u2502                     \u2502                        \u2502\n\u2502           \u25bc                     \u25bc                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502  \u2502         Compliance Engine               \u2502            \u2502\n\u2502  \u2502  \u2022 Rule validation                      \u2502            \u2502\n\u2502  \u2502  \u2022 Gap identification                   \u2502            \u2502\n\u2502  \u2502  \u2022 Report generation                    \u2502            \u2502\n\u2502  \u2502  \u2022 Audit trail maintenance              \u2502            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"use-cases/compliance/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement TAS 29 Processing Days \u2192 Hours Hedge Documentation 70% time reduction Policy Questions Instant vs. hours Audit Preparation 50% effort reduction Compliance Errors Significant reduction"},{"location":"use-cases/compliance/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Policy Digitization - Convert all policies to searchable format</li> <li>Knowledge Base - Build AI knowledge base on regulations and policies</li> <li>Workflow Integration - Connect to ERP and treasury systems</li> <li>Automation Rules - Configure compliance rules and thresholds</li> <li>Testing - Validate outputs against manual processes</li> <li>Rollout - Deploy with human review initially</li> </ol>"},{"location":"use-cases/compliance/#key-governance-principles","title":"Key Governance Principles","text":""},{"location":"use-cases/compliance/#explainability","title":"Explainability","text":"<p>All AI compliance decisions must be explainable: - Clear reasoning for classifications - Audit trail of all calculations - References to source documents</p>"},{"location":"use-cases/compliance/#human-oversight","title":"Human Oversight","text":"<p>Critical compliance decisions require human review: - Final sign-off on regulatory filings - Validation of material calculations - Exception handling</p>"},{"location":"use-cases/compliance/#data-security","title":"Data Security","text":"<p>Compliance data requires strict controls: - Role-based access - Encryption at rest and in transit - Audit logging of all access</p>"},{"location":"use-cases/compliance/#technology-options","title":"Technology Options","text":"<ul> <li>SAP Partner Add-ons - Inflation accounting automation</li> <li>BlackLine - AI-powered close and compliance</li> <li>Thomson Reuters - Regulatory intelligence</li> <li>Custom Solutions - Policy bots on Azure OpenAI/similar</li> </ul>"},{"location":"use-cases/fraud-detection/","title":"Fraud Detection","text":""},{"location":"use-cases/fraud-detection/#fraud-detection-payment-security","title":"Fraud Detection &amp; Payment Security","text":"<p>With billions of dollars flowing through treasury annually, AI-powered fraud detection is essential. The U.S. Treasury reported over $4 billion in fraud prevention and recovery using ML in fiscal year 2024.</p>"},{"location":"use-cases/fraud-detection/#the-challenge","title":"The Challenge","text":"<p>Treasury faces evolving fraud threats:</p> <ul> <li>Business Email Compromise (BEC) - Fraudulent payment requests</li> <li>Invoice Fraud - Fake or manipulated vendor invoices</li> <li>Account Takeover - Compromised credentials</li> <li>Sanctions Violations - Inadvertent prohibited transactions</li> <li>Duplicate Payments - Accidental or intentional double payments</li> </ul> <p>Traditional rule-based systems generate excessive false positives and miss novel fraud patterns.</p>"},{"location":"use-cases/fraud-detection/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/fraud-detection/#payment-anomaly-detection","title":"Payment Anomaly Detection","text":"<p>ML algorithms learn normal payment patterns and flag unusual transactions in real-time based on:</p> <ul> <li>Amount deviations from historical norms</li> <li>Unusual timing (off-hours, unusual days)</li> <li>New or changed beneficiary accounts</li> <li>Frequency anomalies</li> <li>Behavioral deviations from established patterns</li> </ul>"},{"location":"use-cases/fraud-detection/#vendorbeneficiary-verification","title":"Vendor/Beneficiary Verification","text":"<p>AI validates supplier bank account changes, detecting potential:</p> <ul> <li>Invoice fraud attempts</li> <li>Business email compromise attacks</li> <li>Social engineering schemes</li> </ul> <p>The system cross-references requests against historical patterns and external databases before payments are processed.</p>"},{"location":"use-cases/fraud-detection/#sanctions-screening","title":"Sanctions Screening","text":"<p>Real-time AI-powered screening of all transactions against:</p> <ul> <li>Global sanctions lists (OFAC, EU, UN)</li> <li>PEP (Politically Exposed Persons) databases</li> <li>Adverse media</li> </ul> <p>Intelligent fuzzy matching reduces false positives while ensuring compliance - critical for oil trading where counterparties span multiple jurisdictions.</p>"},{"location":"use-cases/fraud-detection/#user-behavior-analytics","title":"User Behavior Analytics","text":"<p>Monitor treasury system user behavior to detect:</p> <ul> <li>Compromised credentials</li> <li>Insider threats</li> <li>Unauthorized access patterns</li> <li>Unusual data access or export</li> </ul>"},{"location":"use-cases/fraud-detection/#duplicate-payment-prevention","title":"Duplicate Payment Prevention","text":"<p>AI identifies potential duplicate invoices and payments across systems, preventing accidental or fraudulent double payments by analyzing:</p> <ul> <li>Invoice numbers and amounts</li> <li>Vendor patterns</li> <li>Timing of submissions</li> <li>Document similarity</li> </ul>"},{"location":"use-cases/fraud-detection/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement Fraud Detection Rate 90%+ False Positives 60-80% reduction Review Time 70% faster Compliance Violations Near elimination"},{"location":"use-cases/fraud-detection/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Baseline Analysis - Analyze 12+ months of payment data</li> <li>Model Training - Train on known fraud cases and normal patterns</li> <li>Threshold Tuning - Optimize alert thresholds to balance detection vs. false positives</li> <li>Integration - Connect to payment systems for real-time screening</li> <li>Feedback Loop - Continuously improve models based on investigation outcomes</li> </ol>"},{"location":"use-cases/fraud-detection/#technology-options","title":"Technology Options","text":"<ul> <li>SAP Business Integrity Screening - Sanctions and fraud detection</li> <li>Kyriba Fraud Detection - AI-powered payment monitoring</li> <li>Oracle Financial Crime - Comprehensive fraud analytics</li> <li>Custom ML - Tailored anomaly detection models</li> </ul>"},{"location":"use-cases/fx-risk/","title":"FX Risk Management","text":""},{"location":"use-cases/fx-risk/#foreign-exchange-risk-management","title":"Foreign Exchange Risk Management","text":"<p>With crude purchases predominantly in USD and significant domestic currency revenues, FX exposure is a critical treasury concern. AI can optimize the natural correlation between oil prices and USD to create integrated hedging strategies.</p>"},{"location":"use-cases/fx-risk/#the-challenge","title":"The Challenge","text":"<p>Oil refiners face complex FX dynamics:</p> <ul> <li>Structural mismatch - Costs in USD, revenues in local currency</li> <li>Natural hedges - Negative correlation between USD and oil prices</li> <li>Emerging market volatility - Local currency fluctuations</li> <li>Multi-currency operations - EUR, USD, local currency exposures</li> <li>Timing complexity - When to hedge, how much, which instruments</li> </ul> <p>Traditional approaches use static hedge ratios that miss optimization opportunities.</p>"},{"location":"use-cases/fx-risk/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/fx-risk/#multi-currency-exposure-forecasting","title":"Multi-Currency Exposure Forecasting","text":"<p>AI predicts net FX exposures across all currencies by analyzing:</p> <ul> <li>Purchase orders and commitments</li> <li>Sales contracts and forecasts</li> <li>Operational cash flows</li> <li>Intercompany positions</li> <li>Debt service schedules</li> </ul>"},{"location":"use-cases/fx-risk/#fx-commodity-correlation-analysis","title":"FX-Commodity Correlation Analysis","text":"<p>ML models analyze the negative correlation between USD and oil prices to determine optimal integrated hedging strategies that leverage natural offsets.</p> <p>Example insight: When oil prices rise, USD typically weakens - a natural partial hedge for USD-based costs. AI quantifies this relationship and adjusts hedge recommendations accordingly.</p>"},{"location":"use-cases/fx-risk/#dynamic-hedge-adjustment","title":"Dynamic Hedge Adjustment","text":"<p>AI continuously monitors exposures and market conditions to recommend:</p> <ul> <li>Real-time hedge ratio adjustments</li> <li>Optimal instrument selection (forwards, options, swaps)</li> <li>Timing recommendations based on market conditions</li> <li>Rebalancing triggers</li> </ul>"},{"location":"use-cases/fx-risk/#emerging-market-currency-risk","title":"Emerging Market Currency Risk","text":"<p>Predictive models for local currency volatility incorporating:</p> <ul> <li>Macroeconomic indicators (inflation, interest rates)</li> <li>Central bank policy signals</li> <li>Geopolitical factors</li> <li>Historical volatility patterns</li> </ul>"},{"location":"use-cases/fx-risk/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement Forecast Accuracy 70% to 96%+ Hedge Effectiveness 15-25% improvement Transaction Costs 10-20% reduction Manual Analysis 80% reduction"},{"location":"use-cases/fx-risk/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Exposure Mapping - Comprehensive inventory of all FX exposures</li> <li>Data Integration - Connect ERP, trading systems, market data</li> <li>Model Development - Build correlation and forecasting models</li> <li>Backtesting - Validate strategies against historical data</li> <li>Pilot - Test recommendations in parallel with existing process</li> <li>Automation - Gradually automate routine hedging decisions</li> </ol>"},{"location":"use-cases/fx-risk/#technology-options","title":"Technology Options","text":"<ul> <li>Bloomberg FXGO - Electronic FX trading and analytics</li> <li>Kyriba FX Management - Exposure tracking and hedge optimization</li> <li>SAP Treasury - Integrated FX risk management</li> <li>Custom Models - Python-based correlation and forecasting</li> </ul>"},{"location":"use-cases/fx-risk/#case-study-asml","title":"Case Study: ASML","text":"<p>After switching from manual to AI-based FX forecasting, ASML saw accuracy increase from ~70% to 96-97%, significantly improving hedging decisions and reducing costs.</p>"},{"location":"use-cases/trade-finance/","title":"Trade Finance","text":""},{"location":"use-cases/trade-finance/#trade-finance-letter-of-credit-automation","title":"Trade Finance &amp; Letter of Credit Automation","text":"<p>International crude procurement and product exports rely heavily on trade finance instruments. AI with OCR and NLP can automate document-heavy workflows, reducing processing time from days to minutes.</p>"},{"location":"use-cases/trade-finance/#the-challenge","title":"The Challenge","text":"<p>Trade finance in oil &amp; gas is notoriously complex:</p> <ul> <li>Document-intensive - LCs require multiple documents (bills of lading, invoices, certificates)</li> <li>Error-prone - Manual checking leads to discrepancies and delays</li> <li>Time-sensitive - Delays cause demurrage costs and working capital drag</li> <li>Compliance-heavy - Sanctions, UCP 600 rules, anti-boycott requirements</li> <li>Multi-party - Banks, shipping, insurance, customs coordination</li> </ul> <p>A single discrepancy in LC documents can delay payment by days or weeks.</p>"},{"location":"use-cases/trade-finance/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/trade-finance/#lc-document-processing","title":"LC Document Processing","text":"<p>AI with OCR and NLP automates extraction and validation of data from:</p> <ul> <li>Bills of lading</li> <li>Commercial invoices</li> <li>Certificates of origin</li> <li>Insurance certificates</li> <li>Inspection reports</li> <li>Packing lists</li> </ul> <p>Processing time: Days \u2192 Minutes</p>"},{"location":"use-cases/trade-finance/#discrepancy-detection","title":"Discrepancy Detection","text":"<p>ML algorithms automatically check trade documents against:</p> <ul> <li>Letter of Credit terms</li> <li>UCP 600 requirements</li> <li>Sanction clause compliance</li> <li>Anti-boycott language requirements</li> <li>Port names and cargo descriptions</li> </ul> <p>Discrepancies are flagged with specific explanations before bank submission.</p>"},{"location":"use-cases/trade-finance/#vessel-shipment-tracking","title":"Vessel &amp; Shipment Tracking","text":"<p>AI integrates AIS (Automatic Identification System) vessel tracking data to:</p> <ul> <li>Monitor crude and product shipments in real-time</li> <li>Predict arrival times with accuracy</li> <li>Automatically update financial systems for payment scheduling</li> <li>Detect route anomalies that may indicate issues</li> </ul>"},{"location":"use-cases/trade-finance/#bank-guarantee-management","title":"Bank Guarantee Management","text":"<p>Automated tracking and management of:</p> <ul> <li>Guarantee expiration and renewal alerts</li> <li>Commission calculations</li> <li>Utilization monitoring</li> <li>Compliance with facility limits</li> </ul>"},{"location":"use-cases/trade-finance/#swift-message-processing","title":"SWIFT Message Processing","text":"<p>AI parses and processes MT 700/799 messages, automatically:</p> <ul> <li>Extracting LC details</li> <li>Populating treasury systems</li> <li>Matching to expected transactions</li> <li>Flagging amendments or discrepancies</li> </ul>"},{"location":"use-cases/trade-finance/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement Document Processing Time 80-90% reduction Discrepancy Rate 70% reduction Demurrage Costs Significant reduction Manual Effort 85% reduction Working Capital Faster release"},{"location":"use-cases/trade-finance/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Document Digitization - Ensure all trade documents are available digitally</li> <li>Template Training - Train AI on company-specific document formats</li> <li>Rule Configuration - Configure compliance rules and LC requirements</li> <li>Integration - Connect to banking portals and TMS</li> <li>Pilot - Process subset of transactions in parallel</li> <li>Rollout - Expand to all trade finance operations</li> </ol>"},{"location":"use-cases/trade-finance/#technology-options","title":"Technology Options","text":"<ul> <li>Cleareye.ai - GenAI for trade finance compliance</li> <li>Pelican.ai - Document scrutiny and automation</li> <li>Traydstream - AI-powered trade document checking</li> <li>SAP GTS - Global trade services with AI enhancements</li> </ul>"},{"location":"use-cases/trade-finance/#compliance-focus","title":"Compliance Focus","text":"<p>AI-powered trade finance ensures:</p> <ul> <li>Sanctions compliance - Real-time screening against OFAC, EU, UN lists</li> <li>UCP 600 adherence - Automatic rule checking</li> <li>Audit trails - Complete documentation of all checks performed</li> <li>Regulatory reporting - Automated generation of required reports</li> </ul>"},{"location":"use-cases/treasury-analytics/","title":"Treasury Analytics","text":""},{"location":"use-cases/treasury-analytics/#treasury-analytics-ai-assistant","title":"Treasury Analytics &amp; AI Assistant","text":"<p>Generative AI can transform treasury from a reactive function to a strategic business partner by providing advanced analytics and intelligent decision support through natural language interfaces.</p>"},{"location":"use-cases/treasury-analytics/#the-challenge","title":"The Challenge","text":"<p>Treasury teams spend too much time on:</p> <ul> <li>Manual report generation and formatting</li> <li>Data gathering from multiple systems</li> <li>Answering repetitive queries from stakeholders</li> <li>Explaining variances and trends</li> <li>Policy interpretation questions</li> </ul> <p>This leaves insufficient time for strategic analysis and decision-making.</p>"},{"location":"use-cases/treasury-analytics/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/treasury-analytics/#treasury-copilot-ai-assistant","title":"Treasury Copilot / AI Assistant","text":"<p>GenAI-powered virtual assistant that can:</p> <ul> <li>Answer natural language queries about cash positions, exposures, and risks</li> <li>Provide instant analysis on demand</li> <li>Draft reports and executive summaries</li> <li>Explain variances in plain language</li> </ul> <p>Example interactions:</p> <p>\"What's our USD exposure for next month?\"</p> <p>\"Net USD exposure for next month is $45M long, primarily from crude payables ($62M) offset by product receivables ($17M). This is 15% higher than last month due to increased crude procurement.\"</p> <p>\"Why was last week's cash position lower than forecast?\"</p> <p>\"Cash was $3.2M below forecast due to: (1) Customer X paid 4 days late ($2.1M), (2) Unexpected maintenance payment ($0.8M), (3) FX movement impact ($0.3M). Forecast has been updated.\"</p>"},{"location":"use-cases/treasury-analytics/#automated-reporting","title":"Automated Reporting","text":"<p>AI generates customized treasury reports with:</p> <ul> <li>Management dashboards with narrative explanations</li> <li>Board-ready summaries highlighting key metrics</li> <li>Regulatory filings (pre-populated)</li> <li>Variance analysis with root cause explanations</li> </ul> <p>Time savings: Reports that took hours now take minutes.</p>"},{"location":"use-cases/treasury-analytics/#risk-policy-monitoring","title":"Risk Policy Monitoring","text":"<p>AI continuously monitors:</p> <ul> <li>Exposures against treasury policy limits</li> <li>Counterparty credit limits utilization</li> <li>Hedge ratio compliance</li> <li>Investment policy adherence</li> </ul> <p>Proactive alerts: Predicts potential breaches before they occur.</p>"},{"location":"use-cases/treasury-analytics/#counterparty-risk-assessment","title":"Counterparty Risk Assessment","text":"<p>ML models assess bank and trading counterparty creditworthiness by analyzing:</p> <ul> <li>Financial data and ratios</li> <li>Credit ratings and CDS spreads</li> <li>News sentiment and market signals</li> <li>Payment behavior patterns</li> </ul> <p>Early warning: Flags emerging risks before official downgrades.</p>"},{"location":"use-cases/treasury-analytics/#regulatory-compliance-support","title":"Regulatory Compliance Support","text":"<p>AI assists with:</p> <ul> <li>EMIR trade reporting</li> <li>Hedge accounting documentation (IFRS 9)</li> <li>Local regulatory requirements</li> <li>Internal policy compliance</li> </ul>"},{"location":"use-cases/treasury-analytics/#technology-architecture","title":"Technology Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 Natural Language Interface               \u2502\n\u2502        (Chat, Voice, Email integration)                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                Large Language Model Layer                \u2502\n\u2502    (GPT-4, Claude, or enterprise LLM)                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u2022 Query interpretation                                  \u2502\n\u2502  \u2022 Response generation                                   \u2502\n\u2502  \u2022 Report drafting                                       \u2502\n\u2502  \u2022 Explanation creation                                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n                         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Data &amp; Analytics Layer                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 TMS Data    \u2502 ERP Data    \u2502 Market Data \u2502 Bank Data     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"use-cases/treasury-analytics/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement Report Generation Time 80-90% reduction Query Response Time Minutes \u2192 Seconds Analyst Productivity 40-60% more strategic time Error Rate Significant reduction Stakeholder Satisfaction Higher through faster service"},{"location":"use-cases/treasury-analytics/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Data Foundation - Ensure clean, accessible treasury data</li> <li>LLM Selection - Choose appropriate model (enterprise-grade for security)</li> <li>Knowledge Base - Train on treasury policies, historical Q&amp;A</li> <li>Integration - Connect to TMS, ERP, market data</li> <li>Pilot - Deploy with power users, gather feedback</li> <li>Iterate - Continuously improve based on usage patterns</li> </ol>"},{"location":"use-cases/treasury-analytics/#security-considerations","title":"Security Considerations","text":"<ul> <li>Data privacy - Use enterprise LLMs that don't train on your data</li> <li>Access control - Role-based access to sensitive information</li> <li>Audit trail - Log all queries and responses</li> <li>Human oversight - Review critical outputs before external use</li> </ul>"},{"location":"use-cases/treasury-analytics/#technology-options","title":"Technology Options","text":"<ul> <li>Microsoft 365 Copilot - Integrated with Office suite</li> <li>SAP Joule - ERP-embedded assistant</li> <li>Kyriba TAI - Treasury-specific AI</li> <li>Custom GPT - Tailored solution on Azure OpenAI or similar</li> </ul>"},{"location":"use-cases/working-capital/","title":"Working Capital","text":""},{"location":"use-cases/working-capital/#working-capital-optimization","title":"Working Capital Optimization","text":"<p>Oil refining requires substantial working capital for crude inventory, work-in-progress, and finished product stocks. AI can optimize the entire order-to-cash and procure-to-pay cycles to unlock trapped cash.</p>"},{"location":"use-cases/working-capital/#the-challenge","title":"The Challenge","text":"<p>Working capital in refining is complex:</p> <ul> <li>Large inventory positions - Crude, intermediate, and finished products</li> <li>Long payment cycles - 30-90 day terms common in oil trading</li> <li>Seasonal variations - Demand patterns affect receivables timing</li> <li>Price volatility impact - Oil price changes affect inventory values</li> <li>Capital cost - High interest rates make trapped cash expensive</li> </ul> <p>Traditional approaches rely on average payment days and miss optimization opportunities.</p>"},{"location":"use-cases/working-capital/#ai-solutions","title":"AI Solutions","text":""},{"location":"use-cases/working-capital/#receivables-prediction","title":"Receivables Prediction","text":"<p>ML models predict customer payment behavior by analyzing:</p> <ul> <li>Historical payment patterns by customer</li> <li>Seasonal and cyclical factors</li> <li>Customer financial health indicators</li> <li>Market conditions affecting the customer's business</li> <li>Invoice characteristics (size, terms, product type)</li> </ul> <p>Output: Predicted Days Sales Outstanding (DSO) and collection risk scores.</p>"},{"location":"use-cases/working-capital/#payment-term-optimization","title":"Payment Term Optimization","text":"<p>AI analyzes supplier relationships to:</p> <ul> <li>Identify early payment discount opportunities</li> <li>Optimize Days Payables Outstanding (DPO)</li> <li>Balance cash preservation vs. supplier relationships</li> <li>Recommend negotiation strategies</li> </ul>"},{"location":"use-cases/working-capital/#supply-chain-finance","title":"Supply Chain Finance","text":"<p>AI recommends optimal supply chain financing structures:</p> <ul> <li>Which suppliers benefit most from early payment programs</li> <li>Optimal discount rates based on supplier cost of capital</li> <li>When to use reverse factoring vs. early payment</li> <li>Credit arbitrage opportunities</li> </ul>"},{"location":"use-cases/working-capital/#inventory-financing-optimization","title":"Inventory Financing Optimization","text":"<p>Optimize crude and product inventory financing strategies based on:</p> <ul> <li>Storage costs</li> <li>Futures market structure (contango/backwardation)</li> <li>Demand forecasts</li> <li>Working capital costs</li> </ul> <p>In backwardation: AI recommends minimizing inventory to release cash. In contango: AI may recommend holding strategic inventory with appropriate financing.</p>"},{"location":"use-cases/working-capital/#dynamic-discounting","title":"Dynamic Discounting","text":"<p>AI-powered optimization of early payment discounts:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Dynamic Discounting Engine                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                          \u2502\n\u2502  Inputs:                                                 \u2502\n\u2502  \u2022 Supplier payment history                              \u2502\n\u2502  \u2022 Supplier credit profile                               \u2502\n\u2502  \u2022 Company's cost of capital                             \u2502\n\u2502  \u2022 Available cash position                               \u2502\n\u2502  \u2022 Market interest rates                                 \u2502\n\u2502                                                          \u2502\n\u2502  AI Analysis:                                            \u2502\n\u2502  \u2022 Estimate supplier's implied cost of capital           \u2502\n\u2502  \u2022 Calculate breakeven discount rate                     \u2502\n\u2502  \u2022 Rank opportunities by ROI                             \u2502\n\u2502                                                          \u2502\n\u2502  Output:                                                 \u2502\n\u2502  \u2022 Recommended discount offers by supplier               \u2502\n\u2502  \u2022 Expected return on early payment                      \u2502\n\u2502  \u2022 Cash flow impact projection                           \u2502\n\u2502                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"use-cases/working-capital/#expected-benefits","title":"Expected Benefits","text":"Metric Improvement DSO Reduction 5-15% DPO Optimization 3-10 days Working Capital Release 10-20% Forecast Accuracy 95% (vs. 50% manual) Collection Efficiency 25% improvement"},{"location":"use-cases/working-capital/#implementation-approach","title":"Implementation Approach","text":"<ol> <li>Data Analysis - Map current AR/AP patterns and working capital drivers</li> <li>Segmentation - Group customers/suppliers by behavior patterns</li> <li>Model Training - Train prediction models on historical data</li> <li>Integration - Connect to ERP and banking systems</li> <li>Pilot - Test recommendations on subset of transactions</li> <li>Optimization - Continuously improve based on results</li> </ol>"},{"location":"use-cases/working-capital/#technology-options","title":"Technology Options","text":"<ul> <li>SAP Cash Application - ML-based receivables matching</li> <li>HighRadius - AI-powered order-to-cash</li> <li>SAP Taulia - Supply chain finance optimization</li> <li>Kyriba Working Capital - Integrated AR/AP analytics</li> </ul>"},{"location":"use-cases/working-capital/#connection-to-cash-forecasting","title":"Connection to Cash Forecasting","text":"<p>Working capital optimization directly feeds cash forecasting:</p> <ul> <li>Better AR predictions improve cash inflow forecasts</li> <li>Optimized AP timing aligns with liquidity needs</li> <li>Inventory decisions coordinate with funding plans</li> <li>Dynamic discounting provides cash deployment options</li> </ul>"}]}